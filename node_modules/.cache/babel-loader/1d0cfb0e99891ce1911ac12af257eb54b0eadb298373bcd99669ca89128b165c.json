{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-management\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"tabs\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  class: \"user-table\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"pagination\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _directive_else34 = _resolveDirective(\"else\\\"\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"User Management\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search users...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    class: \"search\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.fetchUsers && $options.fetchUsers(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchQuery]])]), _createCommentVNode(\" Thêm các tab \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '4'\n    }),\n    onClick: _cache[2] || (_cache[2] = $event => $options.changeTab('4'))\n  }, \" Tất Cả \", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '2'\n    }),\n    onClick: _cache[3] || (_cache[3] = $event => $options.changeTab('2'))\n  }, \" Đã Kích Hoạt \", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '1'\n    }),\n    onClick: _cache[4] || (_cache[4] = $event => $options.changeTab('1'))\n  }, \" Chưa Kích Hoạt \", 2 /* CLASS */)]), _createCommentVNode(\" Bảng hiển thị danh sách người dùng \"), _ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"Loading...\")) : _createCommentVNode(\"v-if\", true), _withDirectives((_openBlock(), _createElementBlock(\"table\", _hoisted_5, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.sortBy('USERNAME'))\n  }, \"Username ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $options.sortBy('FULLNAME'))\n  }, \"Full Name ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[7] || (_cache[7] = $event => $options.sortBy('EMAIL'))\n  }, \"Email ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[8] || (_cache[8] = $event => $options.sortBy('GENDER'))\n  }, \"Gender ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[9] || (_cache[9] = $event => $options.sortBy('ADDRESS'))\n  }, \"Address ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[10] || (_cache[10] = $event => $options.sortBy('IS_ACTIVATED'))\n  }, \"Activated ⬍\")])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user._id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: user.AVATAR,\n      alt: \"User avatar\",\n      class: \"user-avatar\"\n    }, null, 8 /* PROPS */, _hoisted_6), _createTextVNode(_toDisplayString(user.USERNAME), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(user.FULLNAME), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.EMAIL), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.GENDER), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.ADDRESS), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.IS_ACTIVATED ? \"Yes\" : \"No\"), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])), [[_directive_else34]]), _createCommentVNode(\" Nút điều hướng trang \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: _cache[11] || (_cache[11] = $event => $options.changePage($data.page - 1)),\n    disabled: $data.page === 1\n  }, \" Previous \", 8 /* PROPS */, _hoisted_8), _createElementVNode(\"span\", null, \"Page \" + _toDisplayString($data.page) + \" of \" + _toDisplayString($data.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[12] || (_cache[12] = $event => $options.changePage($data.page + 1)),\n    disabled: $data.page === $data.totalPages\n  }, \" Next \", 8 /* PROPS */, _hoisted_9)])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","placeholder","_cache","$event","$data","searchQuery","onInput","args","$options","fetchUsers","_createCommentVNode","_hoisted_3","_normalizeClass","active","tabStatus","onClick","changeTab","_ctx","loading","_hoisted_4","_hoisted_5","sortBy","_Fragment","_renderList","filteredUsers","user","_id","src","AVATAR","alt","_hoisted_6","_createTextVNode","_toDisplayString","USERNAME","FULLNAME","EMAIL","GENDER","ADDRESS","IS_ACTIVATED","_hoisted_7","changePage","page","disabled","_hoisted_8","totalPages","_hoisted_9"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\User\\AdminUser.vue"],"sourcesContent":["<template>\n  <div class=\"user-management\">\n    <div class=\"header\">\n      <h2>User Management</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search users...\"\n        v-model=\"searchQuery\"\n        class=\"search\"\n        @input=\"fetchUsers\"\n      />\n    </div>\n\n    <!-- Thêm các tab -->\n    <div class=\"tabs\">\n      <button :class=\"{ active: tabStatus === '4' }\" @click=\"changeTab('4')\">\n        Tất Cả\n      </button>\n      <button :class=\"{ active: tabStatus === '2' }\" @click=\"changeTab('2')\">\n        Đã Kích Hoạt\n      </button>\n      <button :class=\"{ active: tabStatus === '1' }\" @click=\"changeTab('1')\">\n        Chưa Kích Hoạt\n      </button>\n    </div>\n\n    <!-- Bảng hiển thị danh sách người dùng -->\n    <div v-if=\"loading\">Loading...</div>\n    <table class=\"user-table\" v-else\">\n      <thead>\n        <tr>\n          <th @click=\"sortBy('USERNAME')\">Username ⬍</th>\n          <th @click=\"sortBy('FULLNAME')\">Full Name ⬍</th>\n          <th @click=\"sortBy('EMAIL')\">Email ⬍</th>\n          <th @click=\"sortBy('GENDER')\">Gender ⬍</th>\n          <th @click=\"sortBy('ADDRESS')\">Address ⬍</th>\n          <th @click=\"sortBy('IS_ACTIVATED')\">Activated ⬍</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in filteredUsers\" :key=\"user._id\">\n          <td>\n            <img :src=\"user.AVATAR\" alt=\"User avatar\" class=\"user-avatar\" />{{\n              user.USERNAME\n            }}\n          </td>\n          <td>{{ user.FULLNAME }}</td>\n          <td>{{ user.EMAIL }}</td>\n          <td>{{ user.GENDER }}</td>\n          <td>{{ user.ADDRESS }}</td>\n          <td>{{ user.IS_ACTIVATED ? \"Yes\" : \"No\" }}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <!-- Nút điều hướng trang -->\n    <div class=\"pagination\">\n      <button @click=\"changePage(page - 1)\" :disabled=\"page === 1\">\n        Previous\n      </button>\n      <span>Page {{ page }} of {{ totalPages }}</span>\n      <button @click=\"changePage(page + 1)\" :disabled=\"page === totalPages\">\n        Next\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      users: [],\n      page: 1,\n      limit: 10, // Giới hạn số user mỗi trang\n      totalPages: 0,\n      tabStatus: \"4\", // Mặc định hiển thị tất cả người dùng\n    };\n  },\n  computed: {\n    filteredUsers() {\n      let filtered = this.users.filter((user) =>\n        user.USERNAME.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n\n      return filtered;\n    },\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1;\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    changeTab(status) {\n      this.tabStatus = status;\n      this.page = 1; // Reset về trang đầu khi đổi tab\n      this.fetchUsers();\n    },\n    changePage(newPage) {\n      if (newPage > 0 && newPage <= this.totalPages) {\n        this.page = newPage;\n        this.fetchUsers();\n      }\n    },\n    async fetchUsers() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3000/user/getUsers\",\n          {\n            params: {\n              tabStatus: this.tabStatus,\n              page: this.page,\n              limit: this.limit,\n              search: this.searchQuery,\n            },\n          }\n        );\n        this.users = response.data.users;\n        this.totalPages = response.data.totalPages;\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n  },\n  mounted() {\n    this.fetchUsers();\n  },\n};\n</script>\n\n<style scoped>\n.user-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n.tabs {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n.tabs button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #1d283c;\n  color: #fff;\n}\n\n.tabs button.active {\n  background-color: #0084ff;\n}\n\n.user-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.user-table th,\n.user-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.user-table th {\n  cursor: pointer;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n\n/* Phân trang */\n.pagination {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 20px;\n}\n\n.pagination button {\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.pagination span {\n  color: #fff;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}