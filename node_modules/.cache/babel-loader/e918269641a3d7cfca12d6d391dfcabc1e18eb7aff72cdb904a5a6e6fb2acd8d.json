{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-management\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"tabs\"\n};\nconst _hoisted_4 = {\n  class: \"user-table\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"pagination\"\n};\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"User Management\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search users...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    class: \"search\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.fetchUsers && $options.fetchUsers(...args)),\n    \"<!--\": \"\",\n    Tìm: \"\",\n    kiếm: \"\",\n    sẽ: \"\",\n    cập: \"\",\n    nhật: \"\",\n    theo: \"\",\n    từng: \"\",\n    ký: \"\",\n    tự: \"\",\n    \"--\": \"\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _cache[14] || (_cache[14] = _createTextVNode(\" /> \"))]), _createCommentVNode(\" Thêm các tab \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '4'\n    }),\n    onClick: _cache[2] || (_cache[2] = $event => $options.changeTab('4'))\n  }, \"Tất Cả\", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '2'\n    }),\n    onClick: _cache[3] || (_cache[3] = $event => $options.changeTab('2'))\n  }, \"Đã Kích Hoạt\", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '1'\n    }),\n    onClick: _cache[4] || (_cache[4] = $event => $options.changeTab('1'))\n  }, \"Chưa Kích Hoạt\", 2 /* CLASS */)]), _createCommentVNode(\" Bảng hiển thị danh sách người dùng \"), _createElementVNode(\"table\", _hoisted_4, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.sortBy('USERNAME'))\n  }, \"Username ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $options.sortBy('FULLNAME'))\n  }, \"Full Name ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[7] || (_cache[7] = $event => $options.sortBy('EMAIL'))\n  }, \"Email ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[8] || (_cache[8] = $event => $options.sortBy('GENDER'))\n  }, \"Gender ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[9] || (_cache[9] = $event => $options.sortBy('ADDRESS'))\n  }, \"Address ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[10] || (_cache[10] = $event => $options.sortBy('IS_ACTIVATED'))\n  }, \"Activated ⬍\")])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user._id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: user.AVATAR,\n      alt: \"User avatar\",\n      class: \"user-avatar\"\n    }, null, 8 /* PROPS */, _hoisted_5), _createTextVNode(_toDisplayString(user.USERNAME), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(user.FULLNAME), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.EMAIL), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.GENDER), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.ADDRESS), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.IS_ACTIVATED ? \"Yes\" : \"No\"), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Nút điều hướng trang \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[11] || (_cache[11] = $event => $options.changePage($data.page - 1)),\n    disabled: $data.page === 1\n  }, \"Previous\", 8 /* PROPS */, _hoisted_7), _createElementVNode(\"span\", null, \"Page \" + _toDisplayString($data.page) + \" of \" + _toDisplayString($data.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[12] || (_cache[12] = $event => $options.changePage($data.page + 1)),\n    disabled: $data.page === $data.totalPages\n  }, \"Next\", 8 /* PROPS */, _hoisted_8)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","placeholder","_cache","$event","$data","searchQuery","onInput","args","$options","fetchUsers","Tìm","kiếm","sẽ","cập","nhật","theo","từng","ký","tự","_createTextVNode","_createCommentVNode","_hoisted_3","_normalizeClass","active","tabStatus","onClick","changeTab","_hoisted_4","sortBy","_Fragment","_renderList","filteredUsers","user","key","_id","src","AVATAR","alt","_hoisted_5","_toDisplayString","USERNAME","FULLNAME","EMAIL","GENDER","ADDRESS","IS_ACTIVATED","_hoisted_6","changePage","page","disabled","_hoisted_7","totalPages","_hoisted_8"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\User\\AdminUser.vue"],"sourcesContent":["<template>\n    <div class=\"user-management\">\n      <div class=\"header\">\n        <h2>User Management</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Search users...\"\n          v-model=\"searchQuery\"\n          class=\"search\"\n          @input=\"fetchUsers\"  <!-- Tìm kiếm sẽ cập nhật theo từng ký tự -->\n        />\n      </div>\n  \n      <!-- Thêm các tab -->\n      <div class=\"tabs\">\n        <button :class=\"{ active: tabStatus === '4' }\" @click=\"changeTab('4')\">Tất Cả</button>\n        <button :class=\"{ active: tabStatus === '2' }\" @click=\"changeTab('2')\">Đã Kích Hoạt</button>\n        <button :class=\"{ active: tabStatus === '1' }\" @click=\"changeTab('1')\">Chưa Kích Hoạt</button>\n      </div>\n  \n      <!-- Bảng hiển thị danh sách người dùng -->\n      <table class=\"user-table\">\n        <thead>\n          <tr>\n            <th @click=\"sortBy('USERNAME')\">Username ⬍</th>\n            <th @click=\"sortBy('FULLNAME')\">Full Name ⬍</th>\n            <th @click=\"sortBy('EMAIL')\">Email ⬍</th>\n            <th @click=\"sortBy('GENDER')\">Gender ⬍</th>\n            <th @click=\"sortBy('ADDRESS')\">Address ⬍</th>\n            <th @click=\"sortBy('IS_ACTIVATED')\">Activated ⬍</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"user in filteredUsers\" :key=\"user._id\">\n            <td>\n              <img :src=\"user.AVATAR\" alt=\"User avatar\" class=\"user-avatar\" />{{ user.USERNAME }}\n            </td>\n            <td>{{ user.FULLNAME }}</td>\n            <td>{{ user.EMAIL }}</td>\n            <td>{{ user.GENDER }}</td>\n            <td>{{ user.ADDRESS }}</td>\n            <td>{{ user.IS_ACTIVATED ? \"Yes\" : \"No\" }}</td>\n          </tr>\n        </tbody>\n      </table>\n  \n      <!-- Nút điều hướng trang -->\n      <div class=\"pagination\">\n        <button @click=\"changePage(page - 1)\" :disabled=\"page === 1\">Previous</button>\n        <span>Page {{ page }} of {{ totalPages }}</span>\n        <button @click=\"changePage(page + 1)\" :disabled=\"page === totalPages\">Next</button>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from \"axios\";\n  \n  export default {\n    data() {\n      return {\n        searchQuery: \"\",\n        sortField: \"\",\n        sortOrder: 1,\n        users: [],\n        page: 1,\n        limit: 10, // Giới hạn số user mỗi trang\n        totalPages: 0,\n        tabStatus: \"4\", // Mặc định hiển thị tất cả người dùng\n      };\n    },\n    computed: {\n      filteredUsers() {\n        let filtered = this.users.filter((user) =>\n          user.USERNAME.toLowerCase().includes(this.searchQuery.toLowerCase())\n        );\n  \n        if (this.sortField) {\n          filtered.sort((a, b) => {\n            let result = 0;\n            if (a[this.sortField] < b[this.sortField]) result = -1;\n            if (a[this.sortField] > b[this.sortField]) result = 1;\n            return result * this.sortOrder;\n          });\n        }\n  \n        return filtered;\n      },\n    },\n    methods: {\n      sortBy(field) {\n        if (this.sortField === field) {\n          this.sortOrder *= -1;\n        } else {\n          this.sortField = field;\n          this.sortOrder = 1;\n        }\n      },\n      changeTab(status) {\n        this.tabStatus = status;\n        this.page = 1; // Reset về trang đầu khi đổi tab\n        this.fetchUsers();\n      },\n      changePage(newPage) {\n        if (newPage > 0 && newPage <= this.totalPages) {\n          this.page = newPage;\n          this.fetchUsers();\n        }\n      },\n      async fetchUsers() {\n        try {\n          const response = await axios.get(\n            \"http://localhost:3000/user/getUsers\",\n            {\n              params: {\n                tabStatus: this.tabStatus,\n                page: this.page,\n                limit: this.limit,\n                search: this.searchQuery,\n              },\n            }\n          );\n          this.users = response.data.users;\n          this.totalPages = response.data.totalPages;\n        } catch (error) {\n          console.error(\"Error fetching users:\", error);\n        }\n      },\n    },\n    mounted() {\n      this.fetchUsers();\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .user-management {\n    padding: 20px;\n    background-color: #101827;\n    color: #fff;\n    width: 100%;\n  }\n  \n  .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n  }\n  \n  .search {\n    padding: 10px;\n    background-color: #1d283c;\n    border-radius: 5px;\n    border: none;\n    width: 200px;\n  }\n  \n  .tabs {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n  }\n  \n  .tabs button {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    background-color: #1d283c;\n    color: #fff;\n  }\n  \n  .tabs button.active {\n    background-color: #0084ff;\n  }\n  \n  .user-table {\n    width: 100%;\n    border-collapse: collapse;\n    text-align: left;\n  }\n  \n  .user-table th,\n  .user-table td {\n    padding: 10px;\n    border-bottom: 1px solid #444;\n  }\n  \n  .user-table th {\n    cursor: pointer;\n  }\n  \n  .user-avatar {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    margin-right: 10px;\n    vertical-align: middle;\n  }\n  \n  /* Phân trang */\n  .pagination {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 20px;\n  }\n  \n  .pagination button {\n    background-color: #0084ff;\n    color: white;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n  \n  .pagination span {\n    color: #fff;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}