{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"dish-detail-container\"\n};\nconst _hoisted_2 = {\n  class: \"image-section\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"info-section\"\n};\nconst _hoisted_5 = {\n  class: \"dish-name\"\n};\nconst _hoisted_6 = {\n  class: \"location-info\"\n};\nconst _hoisted_7 = {\n  class: \"dish-rating\"\n};\nconst _hoisted_8 = {\n  class: \"quantity-selector\"\n};\nconst _hoisted_9 = [\"max\"];\nconst _hoisted_10 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.dish ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Hình ảnh món ăn lớn bên trái \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n    src: $data.dish.image,\n    alt: \"dish image\",\n    class: \"dish-image\"\n  }, null, 8 /* PROPS */, _hoisted_3)]), _createCommentVNode(\" Thông tin món ăn bên phải \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h2\", _hoisted_5, _toDisplayString($data.dish.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", null, _toDisplayString($data.dish.description), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Danh mục: \" + _toDisplayString($data.dish.category), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Mô tả: \" + _toDisplayString($data.dish.detailedDescription), 1 /* TEXT */), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createTextVNode(\" Giá: \")), _createElementVNode(\"strong\", null, _toDisplayString($data.dish.price) + \" VNĐ\", 1 /* TEXT */)])]), _createCommentVNode(\" Đánh giá món ăn \"), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, n => {\n    return _createElementVNode(\"span\", {\n      key: n,\n      class: _normalizeClass([\"star\", {\n        filled: n <= _ctx.average\n      }])\n    }, \"★\", 2 /* CLASS */);\n  }), 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"span\", null, \"(\" + _toDisplayString(_ctx.totalReviews || 0) + \" đánh giá)\", 1 /* TEXT */)]), _createCommentVNode(\" Nút yêu thích \"), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleFavorite && $options.toggleFavorite(...args)),\n    class: \"favorite-button\"\n  }, [_createElementVNode(\"i\", {\n    class: _normalizeClass($data.dish.favorite ? 'fas fa-heart' : 'far fa-heart')\n  }, null, 2 /* CLASS */), _createElementVNode(\"span\", null, _toDisplayString($data.dish.favorite ? \"Đã yêu thích\" : \"Yêu thích\"), 1 /* TEXT */)]), _createCommentVNode(\" Nút chọn số lượng món \"), _createElementVNode(\"div\", _hoisted_8, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"quantity\"\n  }, \"Số lượng: \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"quantity\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.quantity = $event),\n    min: \"1\",\n    max: $data.dish.stock || 10,\n    step: \"1\"\n  }, null, 8 /* PROPS */, _hoisted_9), [[_vModelText, $data.quantity, void 0, {\n    number: true\n  }]])]), _createCommentVNode(\" Nút chọn món \"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.selectDish && $options.selectDish(...args)),\n    class: \"select-button\"\n  }, \"Chọn món\")])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _cache[5] || (_cache[5] = [_createElementVNode(\"p\", null, \"Đang tải thông tin món ăn...\", -1 /* HOISTED */)])));\n}","map":{"version":3,"names":["key","class","$data","dish","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","src","image","alt","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","name","_hoisted_6","description","category","detailedDescription","_createTextVNode","price","_hoisted_7","_Fragment","_renderList","n","_normalizeClass","filled","_ctx","average","totalReviews","onClick","_cache","args","$options","toggleFavorite","favorite","_hoisted_8","for","type","id","$event","quantity","min","max","stock","step","_hoisted_9","number","selectDish","_hoisted_10"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Menu\\DishDetail.vue"],"sourcesContent":["<template>\n  <div class=\"dish-detail-container\" v-if=\"dish\">\n    <!-- Hình ảnh món ăn lớn bên trái -->\n    <div class=\"image-section\">\n      <img :src=\"dish.image\" alt=\"dish image\" class=\"dish-image\" />\n    </div>\n\n    <!-- Thông tin món ăn bên phải -->\n    <div class=\"info-section\">\n      <h2 class=\"dish-name\">{{ dish.name }}</h2>\n      <div class=\"location-info\">\n        <p>{{ dish.description }}</p>\n        <p>Danh mục: {{ dish.category }}</p>\n        <p>Mô tả: {{ dish.detailedDescription }}</p>\n        <p>\n          Giá: <strong>{{ dish.price }} VNĐ</strong>\n        </p>\n      </div>\n\n      <!-- Đánh giá món ăn -->\n      <div class=\"dish-rating\">\n        <span\n          v-for=\"n in 5\"\n          :key=\"n\"\n          class=\"star\"\n          :class=\"{ filled: n <= average }\"\n          >★</span\n        >\n        <span>({{ totalReviews || 0 }} đánh giá)</span>\n      </div>\n\n      <!-- Nút yêu thích -->\n      <button @click=\"toggleFavorite\" class=\"favorite-button\">\n        <i :class=\"dish.favorite ? 'fas fa-heart' : 'far fa-heart'\"></i>\n        <span>{{ dish.favorite ? \"Đã yêu thích\" : \"Yêu thích\" }}</span>\n      </button>\n\n      <!-- Nút chọn số lượng món -->\n      <div class=\"quantity-selector\">\n        <label for=\"quantity\">Số lượng: </label>\n        <input\n          type=\"number\"\n          id=\"quantity\"\n          v-model.number=\"quantity\"\n          min=\"1\"\n          :max=\"dish.stock || 10\"\n          step=\"1\"\n        />\n      </div>\n\n      <!-- Nút chọn món -->\n      <button @click=\"selectDish\" class=\"select-button\">Chọn món</button>\n    </div>\n  </div>\n  <div v-else>\n    <p>Đang tải thông tin món ăn...</p>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"DishDetail\",\n  props: [\"id\"],\n  data() {\n    return {\n      dish: null, // Biến để lưu dữ liệu món ăn\n      error: null, // Biến để lưu thông báo lỗi nếu có\n      quantity: 1,\n    };\n  },\n  created() {\n    this.fetchDishDetails(); // Gọi hàm lấy thông tin món ăn khi component được tạo\n  },\n  methods: {\n    async fetchDishDetails() {\n      const dishId = this.$route.params.id;\n      try {\n        const response = await axios.get(\n          `http://localhost:3000/dish/getDishById/${dishId}`\n        );\n        this.dish = response.data;\n      } catch (error) {\n        console.error(\"Lỗi khi tải thông tin món ăn:\", error);\n      }\n    },\n    toggleFavorite() {\n      this.dish.favorite = !this.dish.favorite;\n    },\n    selectDish() {\n      this.$store\n        .dispatch(\"addToCart\", {\n          dishId: this.$route.params.id,\n          quantity: this.quantity, // Lấy số lượng món từ input\n        })\n        .then(() => {\n          alert(\n            `Bạn đã thêm ${this.quantity} món ${this.dish.name} vào giỏ hàng`\n          );\n        })\n        .catch((error) => {\n          console.error(\"Lỗi khi thêm món vào giỏ hàng:\", error);\n        });\n    },\n  },\n  created() {\n    this.fetchDishDetails();\n  },\n};\n</script>\n\n<style scoped>\n.dish-detail-container {\n  display: flex;\n  padding: 25px;\n  background-color: #fff;\n  max-width: 1300px;\n  margin: 0 auto;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n  height: 500px;\n}\n\n.image-section {\n  flex: 1;\n}\n\n.dish-image {\n  width: 100%;\n  height: 300px; /* Đặt chiều cao cố định */\n  object-fit: cover; /* Giúp hình ảnh giữ tỷ lệ và cắt phần dư */\n  border-radius: 10px;\n}\n\n.info-section {\n  flex: 2;\n  padding-left: 20px;\n  display: flex;\n  flex-direction: column;\n}\n\n.dish-name {\n  font-size: 2rem;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.location-info p {\n  margin: 5px 0;\n  font-size: 1.1rem;\n}\n\n.dish-rating {\n  display: flex;\n  align-items: center;\n  margin: 10px 0;\n}\n\n.star {\n  color: #ddd;\n  font-size: 1.5rem;\n  margin-right: 5px;\n}\n\n.star.filled {\n  color: gold;\n}\n\n.favorite-button {\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  font-size: 1.2rem;\n  color: #ff6666;\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.favorite-button i {\n  margin-right: 5px;\n}\n\n.select-button {\n  background-color: #ff6600;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: background-color 0.3s;\n}\n\n.select-button:hover {\n  background-color: #ff4500;\n}\n.quantity-selector {\n  margin-bottom: 10px;\n}\n\n.quantity-selector input {\n  width: 60px;\n  padding: 5px;\n  margin-left: 10px;\n  border-radius: 5px;\n  border: 1px solid #ddd;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}