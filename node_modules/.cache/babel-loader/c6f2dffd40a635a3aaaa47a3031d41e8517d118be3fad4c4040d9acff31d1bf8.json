{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"food-management\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"food-table\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  key: 0,\n  class: \"modal\"\n};\nconst _hoisted_6 = {\n  class: \"modal-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", null, \"Food Management\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    class: \"search\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.openModal && $options.openModal(...args)),\n    class: \"add-button\"\n  }, \"Add Food\")]), _createElementVNode(\"table\", _hoisted_3, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.sortBy('name'))\n  }, \"Tên món ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[3] || (_cache[3] = $event => $options.sortBy('description'))\n  }, \"Mô tả ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.sortBy('category'))\n  }, \"Danh mục ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.sortBy('rating'))\n  }, \"Đánh Giá ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $options.sortBy('price'))\n  }, \"Đơn Giá ⬍\")])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredFoods, food => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: food._id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: food.image,\n      alt: \"Food image\",\n      class: \"food-image\"\n    }, null, 8 /* PROPS */, _hoisted_4), _createTextVNode(_toDisplayString(food.name), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(food.description), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(food.category), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(food.rating), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString(food.price), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Modal thêm món ăn \"), $data.isModalOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[23] || (_cache[23] = _createElementVNode(\"h2\", null, \"Thêm món ăn\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[14] || (_cache[14] = _withModifiers((...args) => $options.submitFood && $options.submitFood(...args), [\"prevent\"]))\n  }, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    for: \"image\"\n  }, \"Hình Ảnh:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.newFood.image = $event),\n    type: \"text\",\n    id: \"image\",\n    placeholder: \"URL hình ảnh\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.image]]), _cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"Tên món:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.newFood.name = $event),\n    type: \"text\",\n    id: \"name\",\n    placeholder: \"Tên món ăn\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.name]]), _cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Mô tả:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.newFood.description = $event),\n    type: \"text\",\n    id: \"description\",\n    placeholder: \"Mô tả ngắn\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.description]]), _cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    for: \"detailedDescription\"\n  }, \"Mô tả chi tiết:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.newFood.detailedDescription = $event),\n    id: \"detailedDescription\",\n    placeholder: \"Mô tả chi tiết\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.detailedDescription]]), _cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    for: \"category\"\n  }, \"Danh mục:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.newFood.category = $event),\n    type: \"text\",\n    id: \"category\",\n    placeholder: \"Danh mục món ăn\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.category]]), _cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    for: \"price\"\n  }, \"Đơn giá:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.newFood.price = $event),\n    type: \"number\",\n    id: \"price\",\n    placeholder: \"Đơn giá\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.price]]), _cache[22] || (_cache[22] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Thêm món\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[13] || (_cache[13] = (...args) => $options.closeModal && $options.closeModal(...args)),\n    type: \"button\"\n  }, \"Hủy\")], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","placeholder","_cache","$event","$data","searchQuery","onClick","args","$options","openModal","_hoisted_3","sortBy","_Fragment","_renderList","filteredFoods","food","_id","src","image","alt","_hoisted_4","_createTextVNode","_toDisplayString","name","description","category","rating","price","_createCommentVNode","isModalOpen","_hoisted_5","_hoisted_6","onSubmit","_withModifiers","submitFood","for","newFood","id","detailedDescription","closeModal"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\Dish\\AdminDish.vue"],"sourcesContent":["<template>\n  <div class=\"food-management\">\n    <div class=\"header\">\n      <h2>Food Management</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        v-model=\"searchQuery\"\n        class=\"search\"\n      />\n      <button @click=\"openModal\" class=\"add-button\">Add Food</button>\n    </div>\n\n    <table class=\"food-table\">\n      <thead>\n        <tr>\n          <th @click=\"sortBy('name')\">Tên món ⬍</th>\n          <th @click=\"sortBy('description')\">Mô tả ⬍</th>\n          <th @click=\"sortBy('category')\">Danh mục ⬍</th>\n          <th @click=\"sortBy('rating')\">Đánh Giá ⬍</th>\n          <th @click=\"sortBy('price')\">Đơn Giá ⬍</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"food in filteredFoods\" :key=\"food._id\">\n          <td>\n            <img :src=\"food.image\" alt=\"Food image\" class=\"food-image\" />{{\n              food.name\n            }}\n          </td>\n          <td>{{ food.description }}</td>\n          <td>{{ food.category }}</td>\n          <td>{{ food.rating }}</td>\n          <td>${{ food.price }}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <!-- Modal thêm món ăn -->\n    <div v-if=\"isModalOpen\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h2>Thêm món ăn</h2>\n        <form @submit.prevent=\"submitFood\">\n          <label for=\"image\">Hình Ảnh:</label>\n          <input\n            v-model=\"newFood.image\"\n            type=\"text\"\n            id=\"image\"\n            placeholder=\"URL hình ảnh\"\n          />\n\n          <label for=\"name\">Tên món:</label>\n          <input\n            v-model=\"newFood.name\"\n            type=\"text\"\n            id=\"name\"\n            placeholder=\"Tên món ăn\"\n          />\n\n          <label for=\"description\">Mô tả:</label>\n          <input\n            v-model=\"newFood.description\"\n            type=\"text\"\n            id=\"description\"\n            placeholder=\"Mô tả ngắn\"\n          />\n\n          <label for=\"detailedDescription\">Mô tả chi tiết:</label>\n          <textarea\n            v-model=\"newFood.detailedDescription\"\n            id=\"detailedDescription\"\n            placeholder=\"Mô tả chi tiết\"\n          ></textarea>\n\n          <label for=\"category\">Danh mục:</label>\n          <input\n            v-model=\"newFood.category\"\n            type=\"text\"\n            id=\"category\"\n            placeholder=\"Danh mục món ăn\"\n          />\n\n          <label for=\"price\">Đơn giá:</label>\n          <input\n            v-model=\"newFood.price\"\n            type=\"number\"\n            id=\"price\"\n            placeholder=\"Đơn giá\"\n          />\n\n          <button type=\"submit\">Thêm món</button>\n          <button @click=\"closeModal\" type=\"button\">Hủy</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      foods: [],\n      isModalOpen: false, // Biến điều khiển trạng thái mở/đóng modal\n      newFood: {\n        image: \"\",\n        name: \"\",\n        description: \"\",\n        detailedDescription: \"\",\n        category: \"\",\n        price: 0,\n      },\n    };\n  },\n  computed: {\n    filteredFoods() {\n      let filtered = this.foods.filter((food) =>\n        food.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n\n      return filtered;\n    },\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1;\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    openModal() {\n      this.isModalOpen = true; // Mở modal\n    },\n    closeModal() {\n      this.isModalOpen = false; // Đóng modal\n    },\n    async submitFood() {\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/dish/addDish\",\n          this.newFood\n        );\n        this.foods.push(response.data); // Thêm món ăn mới vào danh sách\n        this.closeModal(); // Đóng modal sau khi thêm thành công\n      } catch (error) {\n        console.error(\"Error adding food:\", error);\n      }\n    },\n    async fetchFoods() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/dish/getDish\");\n        this.foods = response.data;\n      } catch (error) {\n        console.error(\"Error fetching dishes:\", error);\n      }\n    },\n  },\n  mounted() {\n    this.fetchFoods();\n  },\n};\n</script>\n\n<style scoped>\n.food-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n.add-button {\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.food-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.food-table th,\n.food-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.food-table th {\n  cursor: pointer;\n}\n\n.food-image {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n\n.active-status {\n  color: #2ba972;\n}\n\n.disabled-status {\n  color: #59719d;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}