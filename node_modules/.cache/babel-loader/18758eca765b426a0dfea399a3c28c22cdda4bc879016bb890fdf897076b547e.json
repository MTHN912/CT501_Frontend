{"ast":null,"code":"import { computed, onMounted } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nexport default {\n  name: \"Navbar\",\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    // Kiểm tra trạng thái đăng nhập từ Vuex store\n    const isLoggedIn = computed(() => store.getters.isLoggedIn);\n    const userInfo = computed(() => store.getters.userInfo);\n    const isAdmin = computed(() => userInfo.value?.ROLE?.IS_ADMIN);\n\n    // Hàm đăng xuất\n    const logout = () => {\n      localStorage.removeItem(\"token\");\n      isLoggedIn.value = false;\n      router.push(\"/login\");\n    };\n\n    // onMounted(() => {\n    //   if (!isLoggedIn.value) {\n    //     store.dispatch(\"checkToken\");\n    //   }\n    // });\n\n    return {\n      isLoggedIn,\n      isAdmin,\n      logout,\n      userInfo\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","useRouter","useStore","name","setup","store","router","isLoggedIn","getters","userInfo","isAdmin","value","ROLE","IS_ADMIN","logout","localStorage","removeItem","push"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Layout\\Navbar.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid nav-bar\">\r\n    <div class=\"container\">\r\n      <nav class=\"navbar navbar-light navbar-expand-lg py-4\">\r\n        <router-link to=\"/\" class=\"navbar-brand\">\r\n          <h1 class=\"text-primary fw-bold mb-0\">\r\n            MTHN<span class=\"text-dark\">Restaurant</span>\r\n          </h1>\r\n        </router-link>\r\n        <button\r\n          class=\"navbar-toggler py-2 px-3\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarCollapse\"\r\n        >\r\n          <span class=\"fa fa-bars text-primary\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n          <div class=\"navbar-nav mx-auto\">\r\n            <router-link\r\n              to=\"/\"\r\n              class=\"nav-item nav-link\"\r\n              exact-active-class=\"active\"\r\n              exact\r\n              >Trang Chủ</router-link\r\n            >\r\n            <router-link\r\n              to=\"/about\"\r\n              class=\"nav-item nav-link\"\r\n              active-class=\"active\"\r\n              >Giới Thiệu</router-link\r\n            >\r\n            <router-link\r\n              to=\"/services\"\r\n              class=\"nav-item nav-link\"\r\n              active-class=\"active\"\r\n              >Khuyến Mãi</router-link\r\n            >\r\n            <router-link\r\n              to=\"/events\"\r\n              class=\"nav-item nav-link\"\r\n              active-class=\"active\"\r\n              >Gói Tiệc</router-link\r\n            >\r\n            <router-link\r\n              to=\"/menu\"\r\n              class=\"nav-item nav-link\"\r\n              active-class=\"active\"\r\n              >Món Ăn</router-link\r\n            >\r\n            <div class=\"nav-item dropdown\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"nav-link dropdown-toggle\"\r\n                data-bs-toggle=\"dropdown\"\r\n                >Sự Kiện</a\r\n              >\r\n              <div class=\"dropdown-menu bg-light\">\r\n                <router-link\r\n                  to=\"/book\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                  >Tiệc Cưới</router-link\r\n                >\r\n                <router-link\r\n                  to=\"/blog\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                  >Sinh Nhật</router-link\r\n                >\r\n                <router-link\r\n                  to=\"/team\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                  >ABC</router-link\r\n                >\r\n                <router-link\r\n                  to=\"/testimonial\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                  >ABC2</router-link\r\n                >\r\n                <router-link\r\n                  to=\"/404\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                  >404 Page</router-link\r\n                >\r\n              </div>\r\n            </div>\r\n            <router-link\r\n              to=\"/contact\"\r\n              class=\"nav-item nav-link\"\r\n              active-class=\"active\"\r\n              >Liên Hệ</router-link\r\n            >\r\n          </div>\r\n          <button\r\n            class=\"btn-search btn btn-primary btn-md-square me-4 rounded-circle d-none d-lg-inline-flex\"\r\n            data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#searchModal\"\r\n          >\r\n            <i class=\"fas fa-search\"></i>\r\n          </button>\r\n\r\n          <!-- Dropdown cho nút trên thiết bị nhỏ -->\r\n\r\n          <div class=\"dropdown\">\r\n            <button\r\n              class=\"btn btn-sm btn-outline-primary dropdown-toggle\"\r\n              type=\"button\"\r\n              data-bs-toggle=\"dropdown\"\r\n              aria-expanded=\"false\"\r\n            >\r\n              <i class=\"fas fa-user\"></i>\r\n            </button>\r\n\r\n            <ul class=\"dropdown-menu dropdown-menu-end\">\r\n              <!-- Hiển thị \"Trang Quản Lý\" nếu người dùng là admin -->\r\n              <li v-if=\"isLoggedIn && isAdmin\">\r\n                <router-link\r\n                  to=\"/admin\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                >\r\n                  Trang Quản Lý\r\n                </router-link>\r\n              </li>\r\n\r\n              <!-- Hiển thị nút \"Đăng Xuất\" nếu đã đăng nhập -->\r\n              <li v-if=\"isLoggedIn\">\r\n                <button @click=\"logout\" class=\"dropdown-item\">Đăng Xuất</button>\r\n              </li>\r\n\r\n              <!-- Hiển thị \"Đăng Nhập\" và \"Đăng Ký\" nếu chưa đăng nhập -->\r\n              <li v-else>\r\n                <router-link\r\n                  to=\"/login\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                >\r\n                  Đăng Nhập\r\n                </router-link>\r\n              </li>\r\n              <li v-if=\"!isLoggedIn\">\r\n                <router-link\r\n                  to=\"/register\"\r\n                  class=\"dropdown-item\"\r\n                  active-class=\"active\"\r\n                >\r\n                  Đăng Ký\r\n                </router-link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Navbar\",\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n\r\n    // Kiểm tra trạng thái đăng nhập từ Vuex store\r\n    const isLoggedIn = computed(() => store.getters.isLoggedIn);\r\n    const userInfo = computed(() => store.getters.userInfo);\r\n\r\n    const isAdmin = computed(() => userInfo.value?.ROLE?.IS_ADMIN);\r\n\r\n    // Hàm đăng xuất\r\n    const logout = () => {\r\n      localStorage.removeItem(\"token\");\r\n      isLoggedIn.value = false;\r\n      router.push(\"/login\");\r\n    };\r\n\r\n    // onMounted(() => {\r\n    //   if (!isLoggedIn.value) {\r\n    //     store.dispatch(\"checkToken\");\r\n    //   }\r\n    // });\r\n\r\n    return {\r\n      isLoggedIn,\r\n      isAdmin,\r\n      logout,\r\n      userInfo,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add your CSS styles here, if necessary */\r\n</style>\r\n"],"mappings":"AAkKA,SAASA,QAAQ,EAAEC,SAAQ,QAAS,KAAK;AACzC,SAASC,SAAQ,QAAS,YAAY;AACtC,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC,CAAC;IACxB,MAAMI,MAAK,GAAIL,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAMM,UAAS,GAAIR,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAACD,UAAU,CAAC;IAC3D,MAAME,QAAO,GAAIV,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAACC,QAAQ,CAAC;IAEvD,MAAMC,OAAM,GAAIX,QAAQ,CAAC,MAAMU,QAAQ,CAACE,KAAK,EAAEC,IAAI,EAAEC,QAAQ,CAAC;;IAE9D;IACA,MAAMC,MAAK,GAAIA,CAAA,KAAM;MACnBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChCT,UAAU,CAACI,KAAI,GAAI,KAAK;MACxBL,MAAM,CAACW,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;;IAED;IACA;IACA;IACA;IACA;;IAEA,OAAO;MACLV,UAAU;MACVG,OAAO;MACPI,MAAM;MACNL;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}