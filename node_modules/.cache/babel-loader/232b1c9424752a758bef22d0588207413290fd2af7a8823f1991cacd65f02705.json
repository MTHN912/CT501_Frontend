{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"review-section\"\n};\nconst _hoisted_2 = {\n  class: \"rating-summary\"\n};\nconst _hoisted_3 = {\n  class: \"average-rating\"\n};\nconst _hoisted_4 = {\n  class: \"rating-score\"\n};\nconst _hoisted_5 = {\n  class: \"star-rating\"\n};\nconst _hoisted_6 = {\n  class: \"filter-section\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  class: \"review-list\"\n};\nconst _hoisted_9 = {\n  class: \"review-header\"\n};\nconst _hoisted_10 = {\n  class: \"reviewer-name\"\n};\nconst _hoisted_11 = {\n  class: \"review-time\"\n};\nconst _hoisted_12 = {\n  class: \"review-rating\"\n};\nconst _hoisted_13 = {\n  class: \"review-text\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"review-images\"\n};\nconst _hoisted_15 = [\"src\"];\nconst _hoisted_16 = {\n  key: 1,\n  class: \"review-response\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Tổng quan đánh giá \"), _createElementVNode(\"div\", _hoisted_2, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", null, \"Đánh giá sản phẩm\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"span\", _hoisted_4, _toDisplayString($options.averageRating) + \" trên 5\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, n => {\n    return _createElementVNode(\"span\", {\n      key: n,\n      class: _normalizeClass([\"star\", {\n        filled: n <= $options.averageRating\n      }])\n    }, \"★\", 2 /* CLASS */);\n  }), 64 /* STABLE_FRAGMENT */))]), _createElementVNode(\"span\", null, \"(\" + _toDisplayString($options.totalReviews) + \" đánh giá)\", 1 /* TEXT */)])]), _createCommentVNode(\" Bộ lọc đánh giá \"), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.filters, (filter, index) => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: index,\n      onClick: $event => $options.applyFilter(filter.type),\n      class: _normalizeClass([{\n        active: $data.currentFilter === filter.type\n      }, \"filter-button\"])\n    }, _toDisplayString(filter.label), 11 /* TEXT, CLASS, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Danh sách các đánh giá \"), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredReviews, review => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: review.id,\n      class: \"review-item\"\n    }, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString(review.reviewerName), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_11, _toDisplayString(review.time), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, n => {\n      return _createElementVNode(\"span\", {\n        key: n,\n        class: _normalizeClass([\"star\", {\n          filled: n <= review.rating\n        }])\n      }, \"★\", 2 /* CLASS */);\n    }), 64 /* STABLE_FRAGMENT */))]), _createElementVNode(\"p\", _hoisted_13, _toDisplayString(review.text), 1 /* TEXT */), _createCommentVNode(\" Hình ảnh đính kèm trong đánh giá \"), review.images && review.images.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(review.images, (image, index) => {\n      return _openBlock(), _createElementBlock(\"img\", {\n        key: index,\n        src: image,\n        alt: \"Review image\",\n        class: \"review-image\"\n      }, null, 8 /* PROPS */, _hoisted_15);\n    }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Phản hồi của người bán \"), review.response ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_cache[1] || (_cache[1] = _createElementVNode(\"strong\", null, \"Phản hồi của người bán:\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString(review.response), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$options","averageRating","_hoisted_5","_Fragment","_renderList","n","_normalizeClass","filled","totalReviews","_hoisted_6","$data","filters","filter","index","onClick","$event","applyFilter","type","active","currentFilter","label","_hoisted_7","_hoisted_8","filteredReviews","review","id","_hoisted_9","_hoisted_10","reviewerName","_hoisted_11","time","_hoisted_12","rating","_hoisted_13","text","images","length","_hoisted_14","image","src","alt","_hoisted_15","response","_hoisted_16"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Menu\\ReviewSection.vue"],"sourcesContent":["<template>\n  <div class=\"review-section\">\n    <!-- Tổng quan đánh giá -->\n    <div class=\"rating-summary\">\n      <h2>Đánh giá sản phẩm</h2>\n      <div class=\"average-rating\">\n        <span class=\"rating-score\">{{ averageRating }} trên 5</span>\n        <div class=\"star-rating\">\n          <span\n            v-for=\"n in 5\"\n            :key=\"n\"\n            class=\"star\"\n            :class=\"{ filled: n <= averageRating }\"\n            >★</span\n          >\n        </div>\n        <span>({{ totalReviews }} đánh giá)</span>\n      </div>\n    </div>\n\n    <!-- Bộ lọc đánh giá -->\n    <div class=\"filter-section\">\n      <button\n        v-for=\"(filter, index) in filters\"\n        :key=\"index\"\n        @click=\"applyFilter(filter.type)\"\n        :class=\"{ active: currentFilter === filter.type }\"\n        class=\"filter-button\"\n      >\n        {{ filter.label }}\n      </button>\n    </div>\n\n    <!-- Danh sách các đánh giá -->\n    <div class=\"review-list\">\n      <div\n        v-for=\"review in filteredReviews\"\n        :key=\"review.id\"\n        class=\"review-item\"\n      >\n        <div class=\"review-header\">\n          <span class=\"reviewer-name\">{{ review.reviewerName }}</span>\n          <span class=\"review-time\">{{ review.time }}</span>\n        </div>\n        <div class=\"review-rating\">\n          <span\n            v-for=\"n in 5\"\n            :key=\"n\"\n            class=\"star\"\n            :class=\"{ filled: n <= review.rating }\"\n            >★</span\n          >\n        </div>\n        <p class=\"review-text\">{{ review.text }}</p>\n\n        <!-- Hình ảnh đính kèm trong đánh giá -->\n        <div v-if=\"review.images && review.images.length\" class=\"review-images\">\n          <img\n            v-for=\"(image, index) in review.images\"\n            :key=\"index\"\n            :src=\"image\"\n            alt=\"Review image\"\n            class=\"review-image\"\n          />\n        </div>\n\n        <!-- Phản hồi của người bán -->\n        <div v-if=\"review.response\" class=\"review-response\">\n          <strong>Phản hồi của người bán:</strong>\n          <p>{{ review.response }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"ReviewSection\",\n  props: [\"dishId\"],\n  data() {\n    return {\n      // Dữ liệu giả lập (mock data)\n      reviews: [\n        {\n          id: 1,\n          reviewerName: \"NguyenThuyAnhDuongCute\",\n          time: \"2023-11-08 22:25\",\n          rating: 5,\n          text: \"Hàng OK giao rất nhanh sạc nhanh chất lượng giá rẻ mình xài rồi bền lắm nha mọi người mình cho 5 sao nên mua\",\n          images: [\n            \"https://example.com/image1.jpg\",\n            \"https://example.com/image2.jpg\",\n            \"https://example.com/image3.jpg\",\n          ],\n          response:\n            \"Shop cảm ơn bạn đã đánh giá 5* cho Shop, hãy tiếp tục ủng hộ Shop nhé!\",\n        },\n        {\n          id: 2,\n          reviewerName: \"TranVanA\",\n          time: \"2023-09-15 18:00\",\n          rating: 4,\n          text: \"Sản phẩm đúng như mô tả, nhưng giao hàng hơi chậm.\",\n          images: [],\n          response: \"Shop xin lỗi về sự chậm trễ, cảm ơn bạn đã thông cảm!\",\n        },\n        {\n          id: 3,\n          reviewerName: \"LeThiB\",\n          time: \"2023-08-10 14:30\",\n          rating: 3,\n          text: \"Chất lượng ổn, giá cả hợp lý, tuy nhiên không có bảo hành rõ ràng.\",\n          images: [\"https://example.com/image4.jpg\"],\n          response: null,\n        },\n      ],\n      filters: [\n        { type: \"all\", label: \"Tất cả\" },\n        { type: \"5stars\", label: \"5 Sao\" },\n        { type: \"withImages\", label: \"Có Hình Ảnh/Video\" },\n      ],\n      currentFilter: \"all\",\n    };\n  },\n  computed: {\n    averageRating() {\n      if (!this.reviews.length) return 0;\n      const totalRating = this.reviews.reduce(\n        (sum, review) => sum + review.rating,\n        0\n      );\n      return (totalRating / this.reviews.length).toFixed(1);\n    },\n    totalReviews() {\n      return this.reviews.length;\n    },\n    filteredReviews() {\n      if (this.currentFilter === \"5stars\") {\n        return this.reviews.filter((review) => review.rating === 5);\n      } else if (this.currentFilter === \"withImages\") {\n        return this.reviews.filter(\n          (review) => review.images && review.images.length\n        );\n      }\n      return this.reviews;\n    },\n  },\n  methods: {\n    applyFilter(filterType) {\n      this.currentFilter = filterType;\n    },\n  },\n};\n\n// export default {\n//   name: \"ReviewSection\",\n//   props: [\"dishId\"],\n//   data() {\n//     return {\n//       reviews: [],\n//       filters: [\n//         { type: \"all\", label: \"Tất cả\" },\n//         { type: \"5stars\", label: \"5 Sao\" },\n//         { type: \"withImages\", label: \"Có Hình Ảnh/Video\" },\n//       ],\n//       currentFilter: \"all\",\n//     };\n//   },\n//   computed: {\n//     averageRating() {\n//       if (!this.reviews.length) return 0;\n//       const totalRating = this.reviews.reduce(\n//         (sum, review) => sum + review.rating,\n//         0\n//       );\n//       return (totalRating / this.reviews.length).toFixed(1);\n//     },\n//     totalReviews() {\n//       return this.reviews.length;\n//     },\n//     filteredReviews() {\n//       if (this.currentFilter === \"5stars\") {\n//         return this.reviews.filter((review) => review.rating === 5);\n//       } else if (this.currentFilter === \"withImages\") {\n//         return this.reviews.filter(\n//           (review) => review.images && review.images.length\n//         );\n//       }\n//       return this.reviews;\n//     },\n//   },\n//   methods: {\n//     applyFilter(filterType) {\n//       this.currentFilter = filterType;\n//     },\n//     async fetchReviews() {\n//       try {\n//         const response = await axios.get(\n//           `http://localhost:3000/reviews/getReviewsByDishId/${this.dishId}`\n//         );\n//         this.reviews = response.data;\n//       } catch (error) {\n//         console.error(\"Lỗi khi tải đánh giá:\", error);\n//       }\n//     },\n//   },\n//   created() {\n//     this.fetchReviews();\n//   },\n// };\n</script>\n<style scoped>\n.review-section {\n  padding: 20px;\n  background-color: #fff;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n.rating-summary {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\n.average-rating {\n  display: flex;\n  align-items: center;\n}\n\n.rating-score {\n  font-size: 2rem;\n  font-weight: bold;\n  margin-right: 10px;\n}\n\n.star-rating {\n  display: flex;\n}\n\n.star {\n  color: #ddd;\n  font-size: 1.5rem;\n  margin-right: 5px;\n}\n\n.star.filled {\n  color: gold;\n}\n\n.filter-section {\n  margin-bottom: 20px;\n}\n\n.filter-button {\n  background-color: transparent;\n  border: none;\n  padding: 10px 20px;\n  cursor: pointer;\n  font-size: 1rem;\n  margin-right: 10px;\n  transition: background-color 0.3s;\n}\n\n.filter-button.active {\n  background-color: #ff6600;\n  color: white;\n}\n\n.review-list .review-item {\n  border-bottom: 1px solid #eee;\n  padding: 15px 0;\n}\n\n.review-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\n.reviewer-name {\n  font-weight: bold;\n}\n\n.review-rating {\n  margin-bottom: 10px;\n}\n\n.review-images {\n  display: flex;\n  gap: 10px;\n}\n\n.review-image {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 5px;\n}\n\n.review-response {\n  background-color: #f9f9f9;\n  padding: 10px;\n  margin-top: 10px;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}