{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      users: [],\n      page: 1,\n      limit: 10,\n      totalPages: 0\n    };\n  },\n  computed: {\n    filteredUsers() {\n      let filtered = this.users.filter(user => user.USERNAME.toLowerCase().includes(this.searchQuery.toLowerCase()));\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n      return filtered;\n    }\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1;\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    async fetchUsers() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/user/getUsers\", {\n          params: {\n            tabStatus: 4,\n            // Lấy tất cả người dùng\n            page: this.page,\n            limit: this.limit,\n            search: this.searchQuery\n          }\n        });\n        this.users = response.data.users;\n        this.totalPages = response.data.totalPages;\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchUsers();\n  }\n};","map":{"version":3,"names":["axios","data","searchQuery","sortField","sortOrder","users","page","limit","totalPages","computed","filteredUsers","filtered","filter","user","USERNAME","toLowerCase","includes","sort","a","b","result","methods","sortBy","field","fetchUsers","response","get","params","tabStatus","search","error","console","mounted"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\User\\AdminUser.vue"],"sourcesContent":["<template>\n  <div class=\"user-management\">\n    <div class=\"header\">\n      <h2>User Management</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search users...\"\n        v-model=\"searchQuery\"\n        class=\"search\"\n      />\n    </div>\n\n    <table class=\"user-table\">\n      <thead>\n        <tr>\n          <th @click=\"sortBy('USERNAME')\">Username ⬍</th>\n          <th @click=\"sortBy('FULLNAME')\">Full Name ⬍</th>\n          <th @click=\"sortBy('EMAIL')\">Email ⬍</th>\n          <th @click=\"sortBy('GENDER')\">Gender ⬍</th>\n          <th @click=\"sortBy('ADDRESS')\">Address ⬍</th>\n          <th @click=\"sortBy('IS_ACTIVATED')\">Activated ⬍</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in filteredUsers\" :key=\"user._id\">\n          <td>\n            <img :src=\"user.AVATAR\" alt=\"User avatar\" class=\"user-avatar\" />{{\n              user.USERNAME\n            }}\n          </td>\n          <td>{{ user.FULLNAME }}</td>\n          <td>{{ user.EMAIL }}</td>\n          <td>{{ user.GENDER }}</td>\n          <td>{{ user.ADDRESS }}</td>\n          <td>{{ user.IS_ACTIVATED ? \"Yes\" : \"No\" }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      users: [],\n      page: 1,\n      limit: 10,\n      totalPages: 0,\n    };\n  },\n  computed: {\n    filteredUsers() {\n      let filtered = this.users.filter((user) =>\n        user.USERNAME.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n\n      return filtered;\n    },\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1;\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    async fetchUsers() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3000/user/getUsers\",\n          {\n            params: {\n              tabStatus: 4, // Lấy tất cả người dùng\n              page: this.page,\n              limit: this.limit,\n              search: this.searchQuery,\n            },\n          }\n        );\n        this.users = response.data.users;\n        this.totalPages = response.data.totalPages;\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n  },\n  mounted() {\n    this.fetchUsers();\n  },\n};\n</script>\n\n<style scoped>\n.user-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n.user-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.user-table th,\n.user-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.user-table th {\n  cursor: pointer;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n</style>\n"],"mappings":"AA0CA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,CAAC;MACZC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,IAAIC,QAAO,GAAI,IAAI,CAACN,KAAK,CAACO,MAAM,CAAEC,IAAI,IACpCA,IAAI,CAACC,QAAQ,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACd,WAAW,CAACa,WAAW,CAAC,CAAC,CACrE,CAAC;MAED,IAAI,IAAI,CAACZ,SAAS,EAAE;QAClBQ,QAAQ,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;UACtB,IAAIC,MAAK,GAAI,CAAC;UACd,IAAIF,CAAC,CAAC,IAAI,CAACf,SAAS,IAAIgB,CAAC,CAAC,IAAI,CAAChB,SAAS,CAAC,EAAEiB,MAAK,GAAI,CAAC,CAAC;UACtD,IAAIF,CAAC,CAAC,IAAI,CAACf,SAAS,IAAIgB,CAAC,CAAC,IAAI,CAAChB,SAAS,CAAC,EAAEiB,MAAK,GAAI,CAAC;UACrD,OAAOA,MAAK,GAAI,IAAI,CAAChB,SAAS;QAChC,CAAC,CAAC;MACJ;MAEA,OAAOO,QAAQ;IACjB;EACF,CAAC;EACDU,OAAO,EAAE;IACPC,MAAMA,CAACC,KAAK,EAAE;MACZ,IAAI,IAAI,CAACpB,SAAQ,KAAMoB,KAAK,EAAE;QAC5B,IAAI,CAACnB,SAAQ,IAAK,CAAC,CAAC;MACtB,OAAO;QACL,IAAI,CAACD,SAAQ,GAAIoB,KAAK;QACtB,IAAI,CAACnB,SAAQ,GAAI,CAAC;MACpB;IACF,CAAC;IACD,MAAMoB,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMzB,KAAK,CAAC0B,GAAG,CAC9B,qCAAqC,EACrC;UACEC,MAAM,EAAE;YACNC,SAAS,EAAE,CAAC;YAAE;YACdtB,IAAI,EAAE,IAAI,CAACA,IAAI;YACfC,KAAK,EAAE,IAAI,CAACA,KAAK;YACjBsB,MAAM,EAAE,IAAI,CAAC3B;UACf;QACF,CACF,CAAC;QACD,IAAI,CAACG,KAAI,GAAIoB,QAAQ,CAACxB,IAAI,CAACI,KAAK;QAChC,IAAI,CAACG,UAAS,GAAIiB,QAAQ,CAACxB,IAAI,CAACO,UAAU;MAC5C,EAAE,OAAOsB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACR,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}