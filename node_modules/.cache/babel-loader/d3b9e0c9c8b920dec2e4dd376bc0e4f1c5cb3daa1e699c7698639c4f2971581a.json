{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      foods: [] // Sử dụng dữ liệu từ API\n    };\n  },\n  computed: {\n    filteredFoods() {\n      let filtered = this.foods.filter(food => food.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n      return filtered;\n    }\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1; // Đảo ngược thứ tự sắp xếp\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    async fetchFoods() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/dish/getDish\");\n        this.foods = response.data; // Gán dữ liệu từ API vào biến foods\n      } catch (error) {\n        console.error(\"Error fetching dishes:\", error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchFoods(); // Gọi API khi component được khởi tạo\n  }\n};","map":{"version":3,"names":["axios","data","searchQuery","sortField","sortOrder","foods","computed","filteredFoods","filtered","filter","food","name","toLowerCase","includes","sort","a","b","result","methods","sortBy","field","fetchFoods","response","get","error","console","mounted"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\Dish\\AdminDish.vue"],"sourcesContent":["<template>\n  <div class=\"food-management\">\n    <div class=\"header\">\n      <h2>Food Management</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        v-model=\"searchQuery\"\n        class=\"search\"\n      />\n      <button class=\"add-button\">Add Food</button>\n    </div>\n\n    <table class=\"food-table\">\n      <thead>\n        <tr>\n          <!-- <th @click=\"sortBy('image')\">Hình Ảnh ⬍</th> -->\n          <th @click=\"sortBy('name')\">Tên món ⬍</th>\n          <th @click=\"sortBy('description')\">Mô tả ⬍</th>\n          <th @click=\"sortBy('category')\">Danh mục ⬍</th>\n          <th @click=\"sortBy('rating')\">Đánh Giá ⬍</th>\n          <th @click=\"sortBy('price')\">Đơn Giá ⬍</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"food in filteredFoods\" :key=\"food._id\">\n          <td>\n            <img :src=\"food.image\" alt=\"Food image\" class=\"food-image\" />\n            {{ food.name }}\n          </td>\n          <td>{{ food.description }}</td>\n          <td>{{ food.categ }}</td>\n          <td>{{ food.rating }}</td>\n          <td>${{ food.price }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      foods: [], // Sử dụng dữ liệu từ API\n    };\n  },\n  computed: {\n    filteredFoods() {\n      let filtered = this.foods.filter((food) =>\n        food.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n\n      return filtered;\n    },\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1; // Đảo ngược thứ tự sắp xếp\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    async fetchFoods() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/dish/getDish\");\n        this.foods = response.data; // Gán dữ liệu từ API vào biến foods\n      } catch (error) {\n        console.error(\"Error fetching dishes:\", error);\n      }\n    },\n  },\n  mounted() {\n    this.fetchFoods(); // Gọi API khi component được khởi tạo\n  },\n};\n</script>\n\n<style scoped>\n.food-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n.add-button {\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.food-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.food-table th,\n.food-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.food-table th {\n  cursor: pointer;\n}\n\n.food-image {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n\n.active-status {\n  color: #2ba972;\n}\n\n.disabled-status {\n  color: #59719d;\n}\n</style>\n"],"mappings":"AAyCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,CAAC;MACZC,KAAK,EAAE,EAAE,CAAE;IACb,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,IAAIC,QAAO,GAAI,IAAI,CAACH,KAAK,CAACI,MAAM,CAAEC,IAAI,IACpCA,IAAI,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACX,WAAW,CAACU,WAAW,CAAC,CAAC,CACjE,CAAC;MAED,IAAI,IAAI,CAACT,SAAS,EAAE;QAClBK,QAAQ,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;UACtB,IAAIC,MAAK,GAAI,CAAC;UACd,IAAIF,CAAC,CAAC,IAAI,CAACZ,SAAS,IAAIa,CAAC,CAAC,IAAI,CAACb,SAAS,CAAC,EAAEc,MAAK,GAAI,CAAC,CAAC;UACtD,IAAIF,CAAC,CAAC,IAAI,CAACZ,SAAS,IAAIa,CAAC,CAAC,IAAI,CAACb,SAAS,CAAC,EAAEc,MAAK,GAAI,CAAC;UACrD,OAAOA,MAAK,GAAI,IAAI,CAACb,SAAS;QAChC,CAAC,CAAC;MACJ;MAEA,OAAOI,QAAQ;IACjB;EACF,CAAC;EACDU,OAAO,EAAE;IACPC,MAAMA,CAACC,KAAK,EAAE;MACZ,IAAI,IAAI,CAACjB,SAAQ,KAAMiB,KAAK,EAAE;QAC5B,IAAI,CAAChB,SAAQ,IAAK,CAAC,CAAC,EAAE;MACxB,OAAO;QACL,IAAI,CAACD,SAAQ,GAAIiB,KAAK;QACtB,IAAI,CAAChB,SAAQ,GAAI,CAAC;MACpB;IACF,CAAC;IACD,MAAMiB,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMtB,KAAK,CAACuB,GAAG,CAAC,oCAAoC,CAAC;QACtE,IAAI,CAAClB,KAAI,GAAIiB,QAAQ,CAACrB,IAAI,EAAE;MAC9B,EAAE,OAAOuB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACL,UAAU,CAAC,CAAC,EAAE;EACrB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}