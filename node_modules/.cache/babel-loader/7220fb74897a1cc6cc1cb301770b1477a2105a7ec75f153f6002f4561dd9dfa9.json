{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"food-management\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"food-table\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  key: 0,\n  class: \"modal\"\n};\nconst _hoisted_6 = {\n  class: \"modal-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", null, \"Food Management\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    class: \"search\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.openModal && $options.openModal(...args)),\n    class: \"add-button\"\n  }, \"Add Food\")]), _createElementVNode(\"table\", _hoisted_3, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.sortBy('name'))\n  }, \"Tên món ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[3] || (_cache[3] = $event => $options.sortBy('description'))\n  }, \"Mô tả ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.sortBy('category'))\n  }, \"Danh mục ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.sortBy('rating'))\n  }, \"Đánh Giá ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $options.sortBy('price'))\n  }, \"Đơn Giá ⬍\")])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredFoods, food => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: food._id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: food.image,\n      alt: \"Food image\",\n      class: \"food-image\"\n    }, null, 8 /* PROPS */, _hoisted_4), _createTextVNode(_toDisplayString(food.name), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(food.description), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(food.category), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(food.rating), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString(food.price), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Modal thêm món ăn \"), $data.isModalOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[23] || (_cache[23] = _createElementVNode(\"h2\", null, \"Thêm món ăn\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[14] || (_cache[14] = _withModifiers((...args) => $options.submitFood && $options.submitFood(...args), [\"prevent\"]))\n  }, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    for: \"image\"\n  }, \"Hình Ảnh:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.newFood.image = $event),\n    type: \"text\",\n    id: \"image\",\n    placeholder: \"URL hình ảnh\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.image]]), _cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"Tên món:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.newFood.name = $event),\n    type: \"text\",\n    id: \"name\",\n    placeholder: \"Tên món ăn\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.name]]), _cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Mô tả:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.newFood.description = $event),\n    type: \"text\",\n    id: \"description\",\n    placeholder: \"Mô tả ngắn\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.description]]), _cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    for: \"detailedDescription\"\n  }, \"Mô tả chi tiết:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.newFood.detailedDescription = $event),\n    id: \"detailedDescription\",\n    placeholder: \"Mô tả chi tiết\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.detailedDescription]]), _cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    for: \"category\"\n  }, \"Danh mục:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.newFood.category = $event),\n    type: \"text\",\n    id: \"category\",\n    placeholder: \"Danh mục món ăn\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.category]]), _cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    for: \"price\"\n  }, \"Đơn giá:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.newFood.price = $event),\n    type: \"number\",\n    id: \"price\",\n    placeholder: \"Đơn giá\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newFood.price]]), _cache[22] || (_cache[22] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Thêm món\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[13] || (_cache[13] = (...args) => $options.closeModal && $options.closeModal(...args)),\n    type: \"button\"\n  }, \"Hủy\")], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","placeholder","_cache","$event","$data","searchQuery","onClick","args","$options","openModal","_hoisted_3","sortBy","_Fragment","_renderList","filteredFoods","food","_id","src","image","alt","_hoisted_4","_createTextVNode","_toDisplayString","name","description","category","rating","price","_createCommentVNode","isModalOpen","_hoisted_5","_hoisted_6","onSubmit","_withModifiers","submitFood","for","newFood","id","detailedDescription","closeModal"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\Dish\\AdminDish.vue"],"sourcesContent":["<template>\n    <div class=\"food-management\">\n      <div class=\"header\">\n        <h2>Food Management</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Search...\"\n          v-model=\"searchQuery\"\n          class=\"search\"\n        />\n        <button @click=\"openModal\" class=\"add-button\">Add Food</button>\n      </div>\n  \n      <table class=\"food-table\">\n        <thead>\n          <tr>\n            <th @click=\"sortBy('name')\">Tên món ⬍</th>\n            <th @click=\"sortBy('description')\">Mô tả ⬍</th>\n            <th @click=\"sortBy('category')\">Danh mục ⬍</th>\n            <th @click=\"sortBy('rating')\">Đánh Giá ⬍</th>\n            <th @click=\"sortBy('price')\">Đơn Giá ⬍</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"food in filteredFoods\" :key=\"food._id\">\n            <td><img :src=\"food.image\" alt=\"Food image\" class=\"food-image\" />{{ food.name }}</td>\n            <td>{{ food.description }}</td>\n            <td>{{ food.category }}</td>\n            <td>{{ food.rating }}</td>\n            <td>${{ food.price }}</td>\n          </tr>\n        </tbody>\n      </table>\n  \n      <!-- Modal thêm món ăn -->\n      <div v-if=\"isModalOpen\" class=\"modal\">\n        <div class=\"modal-content\">\n          <h2>Thêm món ăn</h2>\n          <form @submit.prevent=\"submitFood\">\n            <label for=\"image\">Hình Ảnh:</label>\n            <input v-model=\"newFood.image\" type=\"text\" id=\"image\" placeholder=\"URL hình ảnh\" />\n  \n            <label for=\"name\">Tên món:</label>\n            <input v-model=\"newFood.name\" type=\"text\" id=\"name\" placeholder=\"Tên món ăn\" />\n  \n            <label for=\"description\">Mô tả:</label>\n            <input v-model=\"newFood.description\" type=\"text\" id=\"description\" placeholder=\"Mô tả ngắn\" />\n  \n            <label for=\"detailedDescription\">Mô tả chi tiết:</label>\n            <textarea v-model=\"newFood.detailedDescription\" id=\"detailedDescription\" placeholder=\"Mô tả chi tiết\"></textarea>\n  \n            <label for=\"category\">Danh mục:</label>\n            <input v-model=\"newFood.category\" type=\"text\" id=\"category\" placeholder=\"Danh mục món ăn\" />\n  \n            <label for=\"price\">Đơn giá:</label>\n            <input v-model=\"newFood.price\" type=\"number\" id=\"price\" placeholder=\"Đơn giá\" />\n  \n            <button type=\"submit\">Thêm món</button>\n            <button @click=\"closeModal\" type=\"button\">Hủy</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from \"axios\";\n  \n  export default {\n    data() {\n      return {\n        searchQuery: \"\",\n        sortField: \"\",\n        sortOrder: 1,\n        foods: [],\n        isModalOpen: false, // Biến điều khiển trạng thái mở/đóng modal\n        newFood: {\n          image: \"\",\n          name: \"\",\n          description: \"\",\n          detailedDescription: \"\",\n          category: \"\",\n          price: 0\n        }\n      };\n    },\n    computed: {\n      filteredFoods() {\n        let filtered = this.foods.filter((food) =>\n          food.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n        );\n  \n        if (this.sortField) {\n          filtered.sort((a, b) => {\n            let result = 0;\n            if (a[this.sortField] < b[this.sortField]) result = -1;\n            if (a[this.sortField] > b[this.sortField]) result = 1;\n            return result * this.sortOrder;\n          });\n        }\n  \n        return filtered;\n      },\n    },\n    methods: {\n      sortBy(field) {\n        if (this.sortField === field) {\n          this.sortOrder *= -1;\n        } else {\n          this.sortField = field;\n          this.sortOrder = 1;\n        }\n      },\n      openModal() {\n        this.isModalOpen = true; // Mở modal\n      },\n      closeModal() {\n        this.isModalOpen = false; // Đóng modal\n      },\n      async submitFood() {\n        try {\n          const response = await axios.post(\"http://localhost:3000/dish/addDish\", this.newFood);\n          this.foods.push(response.data); // Thêm món ăn mới vào danh sách\n          this.closeModal(); // Đóng modal sau khi thêm thành công\n        } catch (error) {\n          console.error(\"Error adding food:\", error);\n        }\n      },\n      async fetchFoods() {\n        try {\n          const response = await axios.get(\"http://localhost:3000/dish/getDish\");\n          this.foods = response.data;\n        } catch (error) {\n          console.error(\"Error fetching dishes:\", error);\n        }\n      },\n    },\n    mounted() {\n      this.fetchFoods();\n    },\n  };\n  </script>\n\n<style scoped>\n.food-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n.add-button {\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.food-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.food-table th,\n.food-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.food-table th {\n  cursor: pointer;\n}\n\n.food-image {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n\n.active-status {\n  color: #2ba972;\n}\n\n.disabled-status {\n  color: #59719d;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}