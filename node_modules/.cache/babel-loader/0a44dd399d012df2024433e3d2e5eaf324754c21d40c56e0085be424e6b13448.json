{"ast":null,"code":"export default {\n  name: \"ReviewSection\",\n  props: [\"dishId\"],\n  data() {\n    return {\n      // Dữ liệu giả lập (mock data)\n      reviews: [{\n        id: 1,\n        reviewerName: \"NguyenThuyAnhDuongCute\",\n        time: \"2023-11-08 22:25\",\n        rating: 5,\n        text: \"Hàng OK giao rất nhanh sạc nhanh chất lượng giá rẻ mình xài rồi bền lắm nha mọi người mình cho 5 sao nên mua\",\n        images: [\"https://example.com/image1.jpg\", \"https://example.com/image2.jpg\", \"https://example.com/image3.jpg\"],\n        response: \"Shop cảm ơn bạn đã đánh giá 5* cho Shop, hãy tiếp tục ủng hộ Shop nhé!\"\n      }, {\n        id: 2,\n        reviewerName: \"TranVanA\",\n        time: \"2023-09-15 18:00\",\n        rating: 4,\n        text: \"Sản phẩm đúng như mô tả, nhưng giao hàng hơi chậm.\",\n        images: [],\n        response: \"Shop xin lỗi về sự chậm trễ, cảm ơn bạn đã thông cảm!\"\n      }, {\n        id: 3,\n        reviewerName: \"LeThiB\",\n        time: \"2023-08-10 14:30\",\n        rating: 3,\n        text: \"Chất lượng ổn, giá cả hợp lý, tuy nhiên không có bảo hành rõ ràng.\",\n        images: [\"https://example.com/image4.jpg\"],\n        response: null\n      }],\n      filters: [{\n        type: \"all\",\n        label: \"Tất cả\"\n      }, {\n        type: \"5stars\",\n        label: \"5 Sao\"\n      }, {\n        type: \"withImages\",\n        label: \"Có Hình Ảnh/Video\"\n      }],\n      currentFilter: \"all\"\n    };\n  },\n  computed: {\n    averageRating() {\n      if (!this.reviews.length) return 0;\n      const totalRating = this.reviews.reduce((sum, review) => sum + review.rating, 0);\n      return (totalRating / this.reviews.length).toFixed(1);\n    },\n    totalReviews() {\n      return this.reviews.length;\n    },\n    filteredReviews() {\n      if (this.currentFilter === \"5stars\") {\n        return this.reviews.filter(review => review.rating === 5);\n      } else if (this.currentFilter === \"withImages\") {\n        return this.reviews.filter(review => review.images && review.images.length);\n      }\n      return this.reviews;\n    }\n  },\n  methods: {\n    applyFilter(filterType) {\n      this.currentFilter = filterType;\n    }\n  }\n};\n\n// export default {\n//   name: \"ReviewSection\",\n//   props: [\"dishId\"],\n//   data() {\n//     return {\n//       reviews: [],\n//       filters: [\n//         { type: \"all\", label: \"Tất cả\" },\n//         { type: \"5stars\", label: \"5 Sao\" },\n//         { type: \"withImages\", label: \"Có Hình Ảnh/Video\" },\n//       ],\n//       currentFilter: \"all\",\n//     };\n//   },\n//   computed: {\n//     averageRating() {\n//       if (!this.reviews.length) return 0;\n//       const totalRating = this.reviews.reduce(\n//         (sum, review) => sum + review.rating,\n//         0\n//       );\n//       return (totalRating / this.reviews.length).toFixed(1);\n//     },\n//     totalReviews() {\n//       return this.reviews.length;\n//     },\n//     filteredReviews() {\n//       if (this.currentFilter === \"5stars\") {\n//         return this.reviews.filter((review) => review.rating === 5);\n//       } else if (this.currentFilter === \"withImages\") {\n//         return this.reviews.filter(\n//           (review) => review.images && review.images.length\n//         );\n//       }\n//       return this.reviews;\n//     },\n//   },\n//   methods: {\n//     applyFilter(filterType) {\n//       this.currentFilter = filterType;\n//     },\n//     async fetchReviews() {\n//       try {\n//         const response = await axios.get(\n//           `http://localhost:3000/reviews/getReviewsByDishId/${this.dishId}`\n//         );\n//         this.reviews = response.data;\n//       } catch (error) {\n//         console.error(\"Lỗi khi tải đánh giá:\", error);\n//       }\n//     },\n//   },\n//   created() {\n//     this.fetchReviews();\n//   },\n// };","map":{"version":3,"names":["name","props","data","reviews","id","reviewerName","time","rating","text","images","response","filters","type","label","currentFilter","computed","averageRating","length","totalRating","reduce","sum","review","toFixed","totalReviews","filteredReviews","filter","methods","applyFilter","filterType"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Menu\\ReviewSection.vue"],"sourcesContent":["<template>\n  <div class=\"review-container\">\n    <!-- Tổng quan đánh giá -->\n    <div class=\"review-summary\">\n      <h2>Đánh giá sản phẩm</h2>\n      <div class=\"rating-overview\">\n        <div class=\"average-rating\">\n          <h2>{{ averageRating }} trên 5</h2>\n          <div class=\"stars\">\n            <span\n              v-for=\"n in 5\"\n              :key=\"n\"\n              class=\"star\"\n              :class=\"{ filled: n <= averageRating }\"\n              >★</span\n            >\n          </div>\n          <p>({{ totalReviews }} đánh giá)</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Tab chọn số sao -->\n    <div class=\"tabs\">\n      <button\n        :class=\"{ active: selectedTab === 'all' }\"\n        @click=\"selectedTab = 'all'\"\n      >\n        Tất cả\n      </button>\n      <button :class=\"{ active: selectedTab === 5 }\" @click=\"selectedTab = 5\">\n        5 Sao\n      </button>\n      <button :class=\"{ active: selectedTab === 4 }\" @click=\"selectedTab = 4\">\n        4 Sao\n      </button>\n      <button :class=\"{ active: selectedTab === 3 }\" @click=\"selectedTab = 3\">\n        3 Sao\n      </button>\n      <button :class=\"{ active: selectedTab === 2 }\" @click=\"selectedTab = 2\">\n        2 Sao\n      </button>\n      <button :class=\"{ active: selectedTab === 1 }\" @click=\"selectedTab = 1\">\n        1 Sao\n      </button>\n    </div>\n\n    <!-- Danh sách đánh giá -->\n    <div v-if=\"filteredReviews.length > 0\" class=\"reviews\">\n      <div\n        v-for=\"review in filteredReviews\"\n        :key=\"review.id\"\n        class=\"review-item\"\n      >\n        <div class=\"review-header\">\n          <h4>{{ review.username }}</h4>\n          <div class=\"review-rating\">\n            <span\n              v-for=\"n in 5\"\n              :key=\"n\"\n              class=\"star\"\n              :class=\"{ filled: n <= review.rating }\"\n              >★</span\n            >\n          </div>\n          <p class=\"review-date\">{{ review.date }}</p>\n        </div>\n        <p>{{ review.comment }}</p>\n\n        <!-- Hình ảnh review -->\n        <div\n          v-if=\"review.images && review.images.length > 0\"\n          class=\"review-images\"\n        >\n          <img\n            v-for=\"image in review.images\"\n            :src=\"image\"\n            :alt=\"'Review image'\"\n            class=\"review-image\"\n          />\n        </div>\n      </div>\n    </div>\n    <p v-else>Không có đánh giá nào cho tab này.</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ReviewSection\",\n  props: [\"dishId\"],\n  data() {\n    return {\n      // Dữ liệu giả lập (mock data)\n      reviews: [\n        {\n          id: 1,\n          reviewerName: \"NguyenThuyAnhDuongCute\",\n          time: \"2023-11-08 22:25\",\n          rating: 5,\n          text: \"Hàng OK giao rất nhanh sạc nhanh chất lượng giá rẻ mình xài rồi bền lắm nha mọi người mình cho 5 sao nên mua\",\n          images: [\n            \"https://example.com/image1.jpg\",\n            \"https://example.com/image2.jpg\",\n            \"https://example.com/image3.jpg\",\n          ],\n          response:\n            \"Shop cảm ơn bạn đã đánh giá 5* cho Shop, hãy tiếp tục ủng hộ Shop nhé!\",\n        },\n        {\n          id: 2,\n          reviewerName: \"TranVanA\",\n          time: \"2023-09-15 18:00\",\n          rating: 4,\n          text: \"Sản phẩm đúng như mô tả, nhưng giao hàng hơi chậm.\",\n          images: [],\n          response: \"Shop xin lỗi về sự chậm trễ, cảm ơn bạn đã thông cảm!\",\n        },\n        {\n          id: 3,\n          reviewerName: \"LeThiB\",\n          time: \"2023-08-10 14:30\",\n          rating: 3,\n          text: \"Chất lượng ổn, giá cả hợp lý, tuy nhiên không có bảo hành rõ ràng.\",\n          images: [\"https://example.com/image4.jpg\"],\n          response: null,\n        },\n      ],\n      filters: [\n        { type: \"all\", label: \"Tất cả\" },\n        { type: \"5stars\", label: \"5 Sao\" },\n        { type: \"withImages\", label: \"Có Hình Ảnh/Video\" },\n      ],\n      currentFilter: \"all\",\n    };\n  },\n  computed: {\n    averageRating() {\n      if (!this.reviews.length) return 0;\n      const totalRating = this.reviews.reduce(\n        (sum, review) => sum + review.rating,\n        0\n      );\n      return (totalRating / this.reviews.length).toFixed(1);\n    },\n    totalReviews() {\n      return this.reviews.length;\n    },\n    filteredReviews() {\n      if (this.currentFilter === \"5stars\") {\n        return this.reviews.filter((review) => review.rating === 5);\n      } else if (this.currentFilter === \"withImages\") {\n        return this.reviews.filter(\n          (review) => review.images && review.images.length\n        );\n      }\n      return this.reviews;\n    },\n  },\n  methods: {\n    applyFilter(filterType) {\n      this.currentFilter = filterType;\n    },\n  },\n};\n\n// export default {\n//   name: \"ReviewSection\",\n//   props: [\"dishId\"],\n//   data() {\n//     return {\n//       reviews: [],\n//       filters: [\n//         { type: \"all\", label: \"Tất cả\" },\n//         { type: \"5stars\", label: \"5 Sao\" },\n//         { type: \"withImages\", label: \"Có Hình Ảnh/Video\" },\n//       ],\n//       currentFilter: \"all\",\n//     };\n//   },\n//   computed: {\n//     averageRating() {\n//       if (!this.reviews.length) return 0;\n//       const totalRating = this.reviews.reduce(\n//         (sum, review) => sum + review.rating,\n//         0\n//       );\n//       return (totalRating / this.reviews.length).toFixed(1);\n//     },\n//     totalReviews() {\n//       return this.reviews.length;\n//     },\n//     filteredReviews() {\n//       if (this.currentFilter === \"5stars\") {\n//         return this.reviews.filter((review) => review.rating === 5);\n//       } else if (this.currentFilter === \"withImages\") {\n//         return this.reviews.filter(\n//           (review) => review.images && review.images.length\n//         );\n//       }\n//       return this.reviews;\n//     },\n//   },\n//   methods: {\n//     applyFilter(filterType) {\n//       this.currentFilter = filterType;\n//     },\n//     async fetchReviews() {\n//       try {\n//         const response = await axios.get(\n//           `http://localhost:3000/reviews/getReviewsByDishId/${this.dishId}`\n//         );\n//         this.reviews = response.data;\n//       } catch (error) {\n//         console.error(\"Lỗi khi tải đánh giá:\", error);\n//       }\n//     },\n//   },\n//   created() {\n//     this.fetchReviews();\n//   },\n// };\n</script>\n<style scoped>\n.review-section {\n  padding: 20px;\n  background-color: #fff;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n.rating-summary {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\n.average-rating {\n  display: flex;\n  align-items: center;\n}\n\n.rating-score {\n  font-size: 2rem;\n  font-weight: bold;\n  margin-right: 10px;\n}\n\n.star-rating {\n  display: flex;\n}\n\n.star {\n  color: #ddd;\n  font-size: 1.5rem;\n  margin-right: 5px;\n}\n\n.star.filled {\n  color: gold;\n}\n\n.filter-section {\n  margin-bottom: 20px;\n}\n\n.filter-button {\n  background-color: transparent;\n  border: none;\n  padding: 10px 20px;\n  cursor: pointer;\n  font-size: 1rem;\n  margin-right: 10px;\n  transition: background-color 0.3s;\n}\n\n.filter-button.active {\n  background-color: #ff6600;\n  color: white;\n}\n\n.review-list .review-item {\n  border-bottom: 1px solid #eee;\n  padding: 15px 0;\n}\n\n.review-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\n.reviewer-name {\n  font-weight: bold;\n}\n\n.review-rating {\n  margin-bottom: 10px;\n}\n\n.review-images {\n  display: flex;\n  gap: 10px;\n}\n\n.review-image {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 5px;\n}\n\n.review-response {\n  background-color: #f9f9f9;\n  padding: 10px;\n  margin-top: 10px;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":"AAwFA,eAAe;EACbA,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE,CAAC,QAAQ,CAAC;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACL;MACAC,OAAO,EAAE,CACP;QACEC,EAAE,EAAE,CAAC;QACLC,YAAY,EAAE,wBAAwB;QACtCC,IAAI,EAAE,kBAAkB;QACxBC,MAAM,EAAE,CAAC;QACTC,IAAI,EAAE,8GAA8G;QACpHC,MAAM,EAAE,CACN,gCAAgC,EAChC,gCAAgC,EAChC,gCAAgC,CACjC;QACDC,QAAQ,EACN;MACJ,CAAC,EACD;QACEN,EAAE,EAAE,CAAC;QACLC,YAAY,EAAE,UAAU;QACxBC,IAAI,EAAE,kBAAkB;QACxBC,MAAM,EAAE,CAAC;QACTC,IAAI,EAAE,oDAAoD;QAC1DC,MAAM,EAAE,EAAE;QACVC,QAAQ,EAAE;MACZ,CAAC,EACD;QACEN,EAAE,EAAE,CAAC;QACLC,YAAY,EAAE,QAAQ;QACtBC,IAAI,EAAE,kBAAkB;QACxBC,MAAM,EAAE,CAAC;QACTC,IAAI,EAAE,oEAAoE;QAC1EC,MAAM,EAAE,CAAC,gCAAgC,CAAC;QAC1CC,QAAQ,EAAE;MACZ,CAAC,CACF;MACDC,OAAO,EAAE,CACP;QAAEC,IAAI,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAS,CAAC,EAChC;QAAED,IAAI,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAQ,CAAC,EAClC;QAAED,IAAI,EAAE,YAAY;QAAEC,KAAK,EAAE;MAAoB,CAAC,CACnD;MACDC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,IAAI,CAAC,IAAI,CAACb,OAAO,CAACc,MAAM,EAAE,OAAO,CAAC;MAClC,MAAMC,WAAU,GAAI,IAAI,CAACf,OAAO,CAACgB,MAAM,CACrC,CAACC,GAAG,EAAEC,MAAM,KAAKD,GAAE,GAAIC,MAAM,CAACd,MAAM,EACpC,CACF,CAAC;MACD,OAAO,CAACW,WAAU,GAAI,IAAI,CAACf,OAAO,CAACc,MAAM,EAAEK,OAAO,CAAC,CAAC,CAAC;IACvD,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACpB,OAAO,CAACc,MAAM;IAC5B,CAAC;IACDO,eAAeA,CAAA,EAAG;MAChB,IAAI,IAAI,CAACV,aAAY,KAAM,QAAQ,EAAE;QACnC,OAAO,IAAI,CAACX,OAAO,CAACsB,MAAM,CAAEJ,MAAM,IAAKA,MAAM,CAACd,MAAK,KAAM,CAAC,CAAC;MAC7D,OAAO,IAAI,IAAI,CAACO,aAAY,KAAM,YAAY,EAAE;QAC9C,OAAO,IAAI,CAACX,OAAO,CAACsB,MAAM,CACvBJ,MAAM,IAAKA,MAAM,CAACZ,MAAK,IAAKY,MAAM,CAACZ,MAAM,CAACQ,MAC7C,CAAC;MACH;MACA,OAAO,IAAI,CAACd,OAAO;IACrB;EACF,CAAC;EACDuB,OAAO,EAAE;IACPC,WAAWA,CAACC,UAAU,EAAE;MACtB,IAAI,CAACd,aAAY,GAAIc,UAAU;IACjC;EACF;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}