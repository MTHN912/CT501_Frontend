{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-management\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"tabs\"\n};\nconst _hoisted_4 = {\n  class: \"user-table\"\n};\nconst _hoisted_5 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[10] || (_cache[10] = _createElementVNode(\"h2\", null, \"User Management\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search users...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    class: \"search\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]])]), _createCommentVNode(\" Thêm các tab \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '4'\n    }),\n    onClick: _cache[1] || (_cache[1] = $event => $options.changeTab('4'))\n  }, \" Tất Cả \", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '2'\n    }),\n    onClick: _cache[2] || (_cache[2] = $event => $options.changeTab('2'))\n  }, \" Đã Kích Hoạt \", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $data.tabStatus === '1'\n    }),\n    onClick: _cache[3] || (_cache[3] = $event => $options.changeTab('1'))\n  }, \" Chưa Kích Hoạt \", 2 /* CLASS */)]), _createElementVNode(\"table\", _hoisted_4, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.sortBy('USERNAME'))\n  }, \"Username ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.sortBy('FULLNAME'))\n  }, \"Full Name ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $options.sortBy('EMAIL'))\n  }, \"Email ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[7] || (_cache[7] = $event => $options.sortBy('GENDER'))\n  }, \"Gender ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[8] || (_cache[8] = $event => $options.sortBy('ADDRESS'))\n  }, \"Address ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[9] || (_cache[9] = $event => $options.sortBy('IS_ACTIVATED'))\n  }, \"Activated ⬍\")])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredUsers, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user._id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: user.AVATAR,\n      alt: \"User avatar\",\n      class: \"user-avatar\"\n    }, null, 8 /* PROPS */, _hoisted_5), _createTextVNode(_toDisplayString(user.USERNAME), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(user.FULLNAME), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.EMAIL), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.GENDER), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.ADDRESS), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.IS_ACTIVATED ? \"Yes\" : \"No\"), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","placeholder","_cache","$event","$data","searchQuery","_createCommentVNode","_hoisted_3","_normalizeClass","active","tabStatus","onClick","$options","changeTab","_hoisted_4","sortBy","_Fragment","_renderList","filteredUsers","user","key","_id","src","AVATAR","alt","_hoisted_5","_createTextVNode","_toDisplayString","USERNAME","FULLNAME","EMAIL","GENDER","ADDRESS","IS_ACTIVATED"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\User\\AdminUser.vue"],"sourcesContent":["<template>\n  <div class=\"user-management\">\n    <div class=\"header\">\n      <h2>User Management</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search users...\"\n        v-model=\"searchQuery\"\n        class=\"search\"\n      />\n    </div>\n\n    <!-- Thêm các tab -->\n    <div class=\"tabs\">\n      <button :class=\"{ active: tabStatus === '4' }\" @click=\"changeTab('4')\">\n        Tất Cả\n      </button>\n      <button :class=\"{ active: tabStatus === '2' }\" @click=\"changeTab('2')\">\n        Đã Kích Hoạt\n      </button>\n      <button :class=\"{ active: tabStatus === '1' }\" @click=\"changeTab('1')\">\n        Chưa Kích Hoạt\n      </button>\n    </div>\n\n    <table class=\"user-table\">\n      <thead>\n        <tr>\n          <th @click=\"sortBy('USERNAME')\">Username ⬍</th>\n          <th @click=\"sortBy('FULLNAME')\">Full Name ⬍</th>\n          <th @click=\"sortBy('EMAIL')\">Email ⬍</th>\n          <th @click=\"sortBy('GENDER')\">Gender ⬍</th>\n          <th @click=\"sortBy('ADDRESS')\">Address ⬍</th>\n          <th @click=\"sortBy('IS_ACTIVATED')\">Activated ⬍</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in filteredUsers\" :key=\"user._id\">\n          <td>\n            <img :src=\"user.AVATAR\" alt=\"User avatar\" class=\"user-avatar\" />{{\n              user.USERNAME\n            }}\n          </td>\n          <td>{{ user.FULLNAME }}</td>\n          <td>{{ user.EMAIL }}</td>\n          <td>{{ user.GENDER }}</td>\n          <td>{{ user.ADDRESS }}</td>\n          <td>{{ user.IS_ACTIVATED ? \"Yes\" : \"No\" }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      users: [],\n      page: 1,\n      limit: 10,\n      totalPages: 0,\n      tabStatus: \"4\", // Mặc định hiển thị tất cả người dùng\n    };\n  },\n  computed: {\n    filteredUsers() {\n      let filtered = this.users.filter((user) =>\n        user.USERNAME.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n\n      return filtered;\n    },\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1;\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    changeTab(status) {\n      this.tabStatus = status; // Thay đổi trạng thái tab\n      this.page = 1; // Reset trang về 1\n      this.fetchUsers(); // Lấy danh sách người dùng mới\n    },\n    async fetchUsers() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3000/user/getUsers\",\n          {\n            params: {\n              tabStatus: this.tabStatus,\n              page: this.page,\n              limit: this.limit,\n              search: this.searchQuery,\n            },\n          }\n        );\n        this.users = response.data.users;\n        this.totalPages = response.data.totalPages;\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n  },\n  mounted() {\n    this.fetchUsers(); // Lấy dữ liệu người dùng khi component được tải\n  },\n};\n</script>\n\n<style scoped>\n.user-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n/* Style cho tabs */\n.tabs {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n.tabs button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #1d283c;\n  color: #fff;\n}\n\n.tabs button.active {\n  background-color: #0084ff;\n}\n\n.user-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.user-table th,\n.user-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.user-table th {\n  cursor: pointer;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}