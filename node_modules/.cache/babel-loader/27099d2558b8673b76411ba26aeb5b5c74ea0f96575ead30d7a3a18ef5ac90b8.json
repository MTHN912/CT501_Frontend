{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      foods: [],\n      isModalOpen: false,\n      // Biến điều khiển trạng thái mở/đóng modal\n      newFood: {\n        image: \"\",\n        name: \"\",\n        description: \"\",\n        detailedDescription: \"\",\n        category: \"\",\n        price: 0\n      }\n    };\n  },\n  computed: {\n    filteredFoods() {\n      let filtered = this.foods.filter(food => food.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n      return filtered;\n    }\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1;\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    openModal() {\n      this.isModalOpen = true; // Mở modal\n    },\n    closeModal() {\n      this.isModalOpen = false; // Đóng modal\n    },\n    async submitFood() {\n      try {\n        const response = await axios.post(\"http://localhost:3000/dish/addDish\", this.newFood);\n        this.foods.push(response.data); // Thêm món ăn mới vào danh sách\n        this.closeModal(); // Đóng modal sau khi thêm thành công\n      } catch (error) {\n        console.error(\"Error adding food:\", error);\n      }\n    },\n    async fetchFoods() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/user//getUsers\");\n        this.foods = response.data;\n      } catch (error) {\n        console.error(\"Error fetching dishes:\", error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchFoods();\n  }\n};","map":{"version":3,"names":["axios","data","searchQuery","sortField","sortOrder","foods","isModalOpen","newFood","image","name","description","detailedDescription","category","price","computed","filteredFoods","filtered","filter","food","toLowerCase","includes","sort","a","b","result","methods","sortBy","field","openModal","closeModal","submitFood","response","post","push","error","console","fetchFoods","get","mounted"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\User\\AdminUser.vue"],"sourcesContent":["<template>\n  <div class=\"food-management\">\n    <div class=\"header\">\n      <h2>Food Management</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        v-model=\"searchQuery\"\n        class=\"search\"\n      />\n      <button @click=\"openModal\" class=\"add-button\">Add Food</button>\n    </div>\n\n    <table class=\"food-table\">\n      <thead>\n        <tr>\n          <th @click=\"sortBy('name')\">Tên món ⬍</th>\n          <th @click=\"sortBy('description')\">Mô tả ⬍</th>\n          <th @click=\"sortBy('category')\">Danh mục ⬍</th>\n          <th @click=\"sortBy('rating')\">Đánh Giá ⬍</th>\n          <th @click=\"sortBy('price')\">Đơn Giá ⬍</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"food in filteredFoods\" :key=\"food._id\">\n          <td>\n            <img :src=\"food.image\" alt=\"Food image\" class=\"food-image\" />{{\n              food.name\n            }}\n          </td>\n          <td>{{ food.description }}</td>\n          <td>{{ food.category }}</td>\n          <td>{{ food.rating }}</td>\n          <td>${{ food.price }}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <!-- Modal thêm món ăn -->\n    <div v-if=\"isModalOpen\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h2>Thêm món ăn</h2>\n        <form @submit.prevent=\"submitFood\">\n          <label for=\"image\">Hình Ảnh:</label>\n          <input\n            v-model=\"newFood.image\"\n            type=\"text\"\n            id=\"image\"\n            placeholder=\"URL hình ảnh\"\n          />\n\n          <label for=\"name\">Tên món:</label>\n          <input\n            v-model=\"newFood.name\"\n            type=\"text\"\n            id=\"name\"\n            placeholder=\"Tên món ăn\"\n          />\n\n          <label for=\"description\">Mô tả:</label>\n          <input\n            v-model=\"newFood.description\"\n            type=\"text\"\n            id=\"description\"\n            placeholder=\"Mô tả ngắn\"\n          />\n\n          <label for=\"detailedDescription\">Mô tả chi tiết:</label>\n          <textarea\n            v-model=\"newFood.detailedDescription\"\n            id=\"detailedDescription\"\n            placeholder=\"Mô tả chi tiết\"\n          ></textarea>\n\n          <label for=\"category\">Danh mục:</label>\n          <input\n            v-model=\"newFood.category\"\n            type=\"text\"\n            id=\"category\"\n            placeholder=\"Danh mục món ăn\"\n          />\n\n          <label for=\"price\">Đơn giá:</label>\n          <input\n            v-model=\"newFood.price\"\n            type=\"number\"\n            id=\"price\"\n            placeholder=\"Đơn giá\"\n          />\n\n          <button type=\"submit\">Thêm món</button>\n          <button @click=\"closeModal\" type=\"button\">Hủy</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      foods: [],\n      isModalOpen: false, // Biến điều khiển trạng thái mở/đóng modal\n      newFood: {\n        image: \"\",\n        name: \"\",\n        description: \"\",\n        detailedDescription: \"\",\n        category: \"\",\n        price: 0,\n      },\n    };\n  },\n  computed: {\n    filteredFoods() {\n      let filtered = this.foods.filter((food) =>\n        food.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n\n      return filtered;\n    },\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1;\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    openModal() {\n      this.isModalOpen = true; // Mở modal\n    },\n    closeModal() {\n      this.isModalOpen = false; // Đóng modal\n    },\n    async submitFood() {\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/dish/addDish\",\n          this.newFood\n        );\n        this.foods.push(response.data); // Thêm món ăn mới vào danh sách\n        this.closeModal(); // Đóng modal sau khi thêm thành công\n      } catch (error) {\n        console.error(\"Error adding food:\", error);\n      }\n    },\n    async fetchFoods() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/user//getUsers\");\n        this.foods = response.data;\n      } catch (error) {\n        console.error(\"Error fetching dishes:\", error);\n      }\n    },\n  },\n  mounted() {\n    this.fetchFoods();\n  },\n};\n</script>\n\n<style scoped>\n.food-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n.add-button {\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.food-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.food-table th,\n.food-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.food-table th {\n  cursor: pointer;\n}\n\n.food-image {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n\n.active-status {\n  color: #2ba972;\n}\n\n.disabled-status {\n  color: #59719d;\n}\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modal-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 10px;\n  width: 400px;\n}\n\n.modal-content h2 {\n  margin-bottom: 20px;\n}\n\n.modal-content label {\n  display: block;\n  margin-bottom: 5px;\n}\n\n.modal-content input,\n.modal-content textarea {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n}\n\n.modal-content button {\n  margin-right: 10px;\n  padding: 10px 20px;\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n</style>\n"],"mappings":"AAmGA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,CAAC;MACZC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,KAAK;MAAE;MACpBC,OAAO,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,WAAW,EAAE,EAAE;QACfC,mBAAmB,EAAE,EAAE;QACvBC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE;MACT;IACF,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,IAAIC,QAAO,GAAI,IAAI,CAACX,KAAK,CAACY,MAAM,CAAEC,IAAI,IACpCA,IAAI,CAACT,IAAI,CAACU,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAClB,WAAW,CAACiB,WAAW,CAAC,CAAC,CACjE,CAAC;MAED,IAAI,IAAI,CAAChB,SAAS,EAAE;QAClBa,QAAQ,CAACK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;UACtB,IAAIC,MAAK,GAAI,CAAC;UACd,IAAIF,CAAC,CAAC,IAAI,CAACnB,SAAS,IAAIoB,CAAC,CAAC,IAAI,CAACpB,SAAS,CAAC,EAAEqB,MAAK,GAAI,CAAC,CAAC;UACtD,IAAIF,CAAC,CAAC,IAAI,CAACnB,SAAS,IAAIoB,CAAC,CAAC,IAAI,CAACpB,SAAS,CAAC,EAAEqB,MAAK,GAAI,CAAC;UACrD,OAAOA,MAAK,GAAI,IAAI,CAACpB,SAAS;QAChC,CAAC,CAAC;MACJ;MAEA,OAAOY,QAAQ;IACjB;EACF,CAAC;EACDS,OAAO,EAAE;IACPC,MAAMA,CAACC,KAAK,EAAE;MACZ,IAAI,IAAI,CAACxB,SAAQ,KAAMwB,KAAK,EAAE;QAC5B,IAAI,CAACvB,SAAQ,IAAK,CAAC,CAAC;MACtB,OAAO;QACL,IAAI,CAACD,SAAQ,GAAIwB,KAAK;QACtB,IAAI,CAACvB,SAAQ,GAAI,CAAC;MACpB;IACF,CAAC;IACDwB,SAASA,CAAA,EAAG;MACV,IAAI,CAACtB,WAAU,GAAI,IAAI,EAAE;IAC3B,CAAC;IACDuB,UAAUA,CAAA,EAAG;MACX,IAAI,CAACvB,WAAU,GAAI,KAAK,EAAE;IAC5B,CAAC;IACD,MAAMwB,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAM/B,KAAK,CAACgC,IAAI,CAC/B,oCAAoC,EACpC,IAAI,CAACzB,OACP,CAAC;QACD,IAAI,CAACF,KAAK,CAAC4B,IAAI,CAACF,QAAQ,CAAC9B,IAAI,CAAC,EAAE;QAChC,IAAI,CAAC4B,UAAU,CAAC,CAAC,EAAE;MACrB,EAAE,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC5C;IACF,CAAC;IACD,MAAME,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAML,QAAO,GAAI,MAAM/B,KAAK,CAACqC,GAAG,CAAC,sCAAsC,CAAC;QACxE,IAAI,CAAChC,KAAI,GAAI0B,QAAQ,CAAC9B,IAAI;MAC5B,EAAE,OAAOiC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF;EACF,CAAC;EACDI,OAAOA,CAAA,EAAG;IACR,IAAI,CAACF,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}