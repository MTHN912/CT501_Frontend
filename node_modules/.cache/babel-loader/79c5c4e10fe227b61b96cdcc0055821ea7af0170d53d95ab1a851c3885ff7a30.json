{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"food-management\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"food-table\"\n};\nconst _hoisted_4 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", null, \"Food Management\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    class: \"search\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _cache[7] || (_cache[7] = _createElementVNode(\"button\", {\n    class: \"add-button\"\n  }, \"Add Food\", -1 /* HOISTED */))]), _createElementVNode(\"table\", _hoisted_3, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createCommentVNode(\" <th @click=\\\"sortBy('image')\\\">Hình Ảnh ⬍</th> \"), _createElementVNode(\"th\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.sortBy('name'))\n  }, \"Tên món ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.sortBy('description'))\n  }, \"Mô tả ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[3] || (_cache[3] = $event => $options.sortBy('category'))\n  }, \"Danh mục ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.sortBy('rating'))\n  }, \"Đánh Giá ⬍\"), _createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.sortBy('price'))\n  }, \"Đơn Giá ⬍\")])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredFoods, food => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: food._id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: food.image,\n      alt: \"Food image\",\n      class: \"food-image\"\n    }, null, 8 /* PROPS */, _hoisted_4), _createTextVNode(\" \" + _toDisplayString(food.name), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(food.category), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(food.description), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(food.rating), 1 /* TEXT */), _createElementVNode(\"td\", null, \"$\" + _toDisplayString(food.price), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","placeholder","_cache","$event","$data","searchQuery","_hoisted_3","_createCommentVNode","onClick","$options","sortBy","_Fragment","_renderList","filteredFoods","food","key","_id","src","image","alt","_hoisted_4","_createTextVNode","_toDisplayString","name","category","description","rating","price"],"sources":["D:\\Tiểu Luận Tốt Nghiệp\\Frontend\\src\\components\\Admin\\Dish\\AdminDish.vue"],"sourcesContent":["<template>\n  <div class=\"food-management\">\n    <div class=\"header\">\n      <h2>Food Management</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Search...\"\n        v-model=\"searchQuery\"\n        class=\"search\"\n      />\n      <button class=\"add-button\">Add Food</button>\n    </div>\n\n    <table class=\"food-table\">\n      <thead>\n        <tr>\n          <!-- <th @click=\"sortBy('image')\">Hình Ảnh ⬍</th> -->\n          <th @click=\"sortBy('name')\">Tên món ⬍</th>\n          <th @click=\"sortBy('description')\">Mô tả ⬍</th>\n          <th @click=\"sortBy('category')\">Danh mục ⬍</th>\n          <th @click=\"sortBy('rating')\">Đánh Giá ⬍</th>\n          <th @click=\"sortBy('price')\">Đơn Giá ⬍</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"food in filteredFoods\" :key=\"food._id\">\n          <td>\n            <img :src=\"food.image\" alt=\"Food image\" class=\"food-image\" />\n            {{ food.name }}\n          </td>\n          <td>{{ food.category }}</td>\n          <td>{{ food.description }}</td>\n          <td>{{ food.rating }}</td>\n          <td>${{ food.price }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      sortField: \"\",\n      sortOrder: 1,\n      foods: [], // Sử dụng dữ liệu từ API\n    };\n  },\n  computed: {\n    filteredFoods() {\n      let filtered = this.foods.filter((food) =>\n        food.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n\n      if (this.sortField) {\n        filtered.sort((a, b) => {\n          let result = 0;\n          if (a[this.sortField] < b[this.sortField]) result = -1;\n          if (a[this.sortField] > b[this.sortField]) result = 1;\n          return result * this.sortOrder;\n        });\n      }\n\n      return filtered;\n    },\n  },\n  methods: {\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder *= -1; // Đảo ngược thứ tự sắp xếp\n      } else {\n        this.sortField = field;\n        this.sortOrder = 1;\n      }\n    },\n    async fetchFoods() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/dish/getDish\");\n        this.foods = response.data; // Gán dữ liệu từ API vào biến foods\n      } catch (error) {\n        console.error(\"Error fetching dishes:\", error);\n      }\n    },\n  },\n  mounted() {\n    this.fetchFoods(); // Gọi API khi component được khởi tạo\n  },\n};\n</script>\n\n<style scoped>\n.food-management {\n  padding: 20px;\n  background-color: #101827;\n  color: #fff;\n  width: 100%;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search {\n  padding: 10px;\n  background-color: #1d283c;\n  border-radius: 5px;\n  border: none;\n  width: 200px;\n}\n\n.add-button {\n  background-color: #0084ff;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.food-table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n\n.food-table th,\n.food-table td {\n  padding: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.food-table th {\n  cursor: pointer;\n}\n\n.food-image {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n\n.active-status {\n  color: #2ba972;\n}\n\n.disabled-status {\n  color: #59719d;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAiB;;EACrBA,KAAK,EAAC;AAAQ;;EAWZA,KAAK,EAAC;AAAY;mBAb7B;;uBACEC,mBAAA,CAoCM,OApCNC,UAoCM,GAnCJC,mBAAA,CASM,OATNC,UASM,G,0BARJD,mBAAA,CAAwB,YAApB,iBAAe,sB,gBACnBA,mBAAA,CAKE;IAJAE,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,WAAW;IAN/B,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAOiBC,KAAA,CAAAC,WAAW,GAAAF,MAAA;IACpBR,KAAK,EAAC;iDADGS,KAAA,CAAAC,WAAW,E,6BAGtBP,mBAAA,CAA4C;IAApCH,KAAK,EAAC;EAAY,GAAC,UAAQ,qB,GAGrCG,mBAAA,CAuBQ,SAvBRQ,UAuBQ,GAtBNR,mBAAA,CASQ,gBARNA,mBAAA,CAOK,aANHS,mBAAA,oDAAqD,EACrDT,mBAAA,CAA0C;IAArCU,OAAK,EAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,QAAA,CAAAC,MAAM;KAAU,WAAS,GACrCZ,mBAAA,CAA+C;IAA1CU,OAAK,EAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,QAAA,CAAAC,MAAM;KAAiB,SAAO,GAC1CZ,mBAAA,CAA+C;IAA1CU,OAAK,EAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,QAAA,CAAAC,MAAM;KAAc,YAAU,GAC1CZ,mBAAA,CAA6C;IAAxCU,OAAK,EAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,QAAA,CAAAC,MAAM;KAAY,YAAU,GACxCZ,mBAAA,CAA2C;IAAtCU,OAAK,EAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,QAAA,CAAAC,MAAM;KAAW,WAAS,E,KAG1CZ,mBAAA,CAWQ,iB,kBAVNF,mBAAA,CASKe,SAAA,QAlCbC,WAAA,CAyB2BH,QAAA,CAAAI,aAAa,EAArBC,IAAI;yBAAflB,mBAAA,CASK;MAT8BmB,GAAG,EAAED,IAAI,CAACE;QAC3ClB,mBAAA,CAGK,aAFHA,mBAAA,CAA6D;MAAvDmB,GAAG,EAAEH,IAAI,CAACI,KAAK;MAAEC,GAAG,EAAC,YAAY;MAACxB,KAAK,EAAC;4BA3B1DyB,UAAA,GAAAC,gBAAA,CA2ByE,GAC7D,GAAAC,gBAAA,CAAGR,IAAI,CAACS,IAAI,iB,GAEdzB,mBAAA,CAA4B,YAAAwB,gBAAA,CAArBR,IAAI,CAACU,QAAQ,kBACpB1B,mBAAA,CAA+B,YAAAwB,gBAAA,CAAxBR,IAAI,CAACW,WAAW,kBACvB3B,mBAAA,CAA0B,YAAAwB,gBAAA,CAAnBR,IAAI,CAACY,MAAM,kBAClB5B,mBAAA,CAA0B,YAAtB,GAAC,GAAAwB,gBAAA,CAAGR,IAAI,CAACa,KAAK,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}